2025-03-09 13:51:25.859 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-09 13:51:25.885 +03:00 [INF] Creating key {5ab2ac71-23a8-42c9-8cfa-3d223bcb7f42} with creation date 2025-03-09 10:51:25Z, activation date 2025-03-09 10:51:25Z, and expiration date 2025-06-07 10:51:25Z.
2025-03-09 13:51:25.888 +03:00 [WRN] No XML encryptor configured. Key {5ab2ac71-23a8-42c9-8cfa-3d223bcb7f42} may be persisted to storage in unencrypted form.
2025-03-09 13:51:25.889 +03:00 [INF] Writing data to file '/Users/taft/.aspnet/DataProtection-Keys/key-5ab2ac71-23a8-42c9-8cfa-3d223bcb7f42.xml'.
2025-03-09 13:51:26.267 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-09 13:51:26.267 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-09 13:51:26.296 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-09 13:51:26.296 +03:00 [INF] Hosting environment: Development
2025-03-09 13:51:26.296 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-09 13:51:27.494 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-09 13:51:27.541 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 46.9129ms
2025-03-09 13:51:27.663 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui-bundle.js - -
2025-03-09 13:51:27.663 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui.css - -
2025-03-09 13:51:27.671 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-03-09 13:51:27.671 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui.css - - - 200 144929 text/css 7.5753ms
2025-03-09 13:51:27.671 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui-standalone-preset.js - -
2025-03-09 13:51:27.825 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-03-09 13:51:27.826 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 154.3523ms
2025-03-09 13:51:27.827 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-03-09 13:51:27.827 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 164.9159ms
2025-03-09 13:51:27.910 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-09 13:51:27.974 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 64.4869ms
2025-03-09 13:56:44.849 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-09 13:56:45.290 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-09 13:56:45.290 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-09 13:56:45.291 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-09 13:56:45.291 +03:00 [INF] Hosting environment: Development
2025-03-09 13:56:45.291 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-09 13:56:46.527 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-09 13:56:46.579 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 53.0640ms
2025-03-09 13:56:46.661 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-09 13:56:46.700 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 39.2390ms
2025-03-09 13:56:51.206 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-09 13:56:51.216 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:56:51.234 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:56:51.243 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-09 13:56:51.250 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-09 13:56:51.257 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 11.0657ms
2025-03-09 13:56:51.257 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:56:51.258 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 52.3402ms
2025-03-09 13:56:51.262 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-09 13:56:51.264 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:56:51.331 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-09 13:56:51.333 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-09 13:56:51.334 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 71.1032ms
2025-03-09 13:56:51.338 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-09 13:56:51.338 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:56:51.339 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.5773ms
2025-03-09 13:56:51.364 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 21
2025-03-09 13:56:51.365 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:56:51.365 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-09 13:56:51.372 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-09 13:56:51.387 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-09 13:56:51.390 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 18.1364ms
2025-03-09 13:56:51.390 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-09 13:56:51.391 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 21 - 400 - application/json;+charset=utf-8 26.4334ms
2025-03-09 13:57:08.804 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-09 13:57:09.122 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-09 13:57:09.122 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-09 13:57:09.123 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-09 13:57:09.123 +03:00 [INF] Hosting environment: Development
2025-03-09 13:57:09.123 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-09 13:57:10.277 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-09 13:57:10.322 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 46.0070ms
2025-03-09 13:57:10.362 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-09 13:57:10.402 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 39.9419ms
2025-03-09 13:57:17.082 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-09 13:57:17.094 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:17.112 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:57:17.121 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-09 13:57:17.126 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-09 13:57:17.133 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 9.8372ms
2025-03-09 13:57:17.133 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:57:17.134 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 52.2396ms
2025-03-09 13:57:17.137 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-09 13:57:17.138 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:17.138 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:17.147 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:17.645 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:17.659 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-09 13:57:17.660 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-09 13:57:17.716 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:17.720 +03:00 [INF] Get All Products
2025-03-09 13:57:17.720 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-09 13:57:17.729 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 581.3903ms
2025-03-09 13:57:17.729 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:17.731 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 594.3783ms
2025-03-09 13:57:21.956 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-09 13:57:21.958 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:21.960 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:57:21.961 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-09 13:57:21.961 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-09 13:57:21.962 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.7909ms
2025-03-09 13:57:21.962 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:57:21.962 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.5453ms
2025-03-09 13:57:21.964 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=6&size=12 - -
2025-03-09 13:57:21.964 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:21.964 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:21.964 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:22.020 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:22.026 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:22.026 +03:00 [INF] Get All Products
2025-03-09 13:57:22.026 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-09 13:57:22.026 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 62.2686ms
2025-03-09 13:57:22.026 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:22.027 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=6&size=12 - - - 200 - application/json;+charset=utf-8 62.8632ms
2025-03-09 13:57:26.891 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=-5&size=12 - -
2025-03-09 13:57:26.892 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:26.892 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:26.892 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:26.913 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:26.923 +03:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:26.950 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
2025-03-09 13:57:27.056 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 163.4647ms
2025-03-09 13:57:27.056 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:27.065 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryHandler.Handle(GetAllProductsQueryRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Queries/Product/GetAllProducts/GetAllProductsQueryHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.ProductsController.Get(GetAllProductsQueryRequest getAllProductsQueryRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/ProductsController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
2025-03-09 13:57:27.073 +03:00 [ERR] 2201X: OFFSET must not be negative
2025-03-09 13:57:27.074 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=-5&size=12 - - - 500 - application/json 183.4057ms
2025-03-09 13:57:28.010 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=-4&size=12 - -
2025-03-09 13:57:28.010 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:28.011 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:28.011 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:28.018 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:28.024 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:28.026 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
2025-03-09 13:57:28.085 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 74.479ms
2025-03-09 13:57:28.086 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:28.096 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryHandler.Handle(GetAllProductsQueryRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Queries/Product/GetAllProducts/GetAllProductsQueryHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.ProductsController.Get(GetAllProductsQueryRequest getAllProductsQueryRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/ProductsController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
2025-03-09 13:57:28.097 +03:00 [ERR] 2201X: OFFSET must not be negative
2025-03-09 13:57:28.098 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=-4&size=12 - - - 500 - application/json 88.0315ms
2025-03-09 13:57:28.777 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=-3&size=12 - -
2025-03-09 13:57:28.777 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:28.777 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:28.778 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:28.784 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:28.791 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:28.793 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
2025-03-09 13:57:28.856 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 78.224ms
2025-03-09 13:57:28.856 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:28.867 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 2201X: OFFSET must not be negative
   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|222_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryHandler.Handle(GetAllProductsQueryRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Queries/Product/GetAllProducts/GetAllProductsQueryHandler.cs:line 27
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.ProductsController.Get(GetAllProductsQueryRequest getAllProductsQueryRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/ProductsController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
  Exception data:
    Severity: ERROR
    SqlState: 2201X
    MessageText: OFFSET must not be negative
    File: nodeLimit.c
    Line: 372
    Routine: recompute_limits
2025-03-09 13:57:28.868 +03:00 [ERR] 2201X: OFFSET must not be negative
2025-03-09 13:57:28.868 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=-3&size=12 - - - 500 - application/json 91.0352ms
2025-03-09 13:57:33.474 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-09 13:57:33.475 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:33.475 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:57:33.475 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-09 13:57:33.475 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-09 13:57:33.476 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.4763ms
2025-03-09 13:57:33.476 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:57:33.476 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.5201ms
2025-03-09 13:57:33.479 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=5&size=12 - -
2025-03-09 13:57:33.479 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:33.479 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:33.479 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:33.486 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:33.490 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:33.490 +03:00 [INF] Get All Products
2025-03-09 13:57:33.490 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-09 13:57:33.490 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 10.9054ms
2025-03-09 13:57:33.490 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:33.491 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=5&size=12 - - - 200 - application/json;+charset=utf-8 11.5939ms
2025-03-09 13:57:37.737 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-09 13:57:37.738 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:37.738 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:57:37.739 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-09 13:57:37.739 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-09 13:57:37.740 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.9629ms
2025-03-09 13:57:37.740 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-09 13:57:37.740 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.3387ms
2025-03-09 13:57:37.757 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-09 13:57:37.757 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:37.761 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:37.762 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:37.771 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:37.776 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:37.776 +03:00 [INF] Get All Products
2025-03-09 13:57:37.776 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-09 13:57:37.777 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 14.6942ms
2025-03-09 13:57:37.777 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:37.777 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 19.9865ms
2025-03-09 13:57:42.835 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=1&size=12 - -
2025-03-09 13:57:42.836 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:42.836 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:42.836 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:42.843 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:42.848 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-09 13:57:42.848 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-09 13:57:42.864 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_0 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:42.864 +03:00 [INF] Get All Products
2025-03-09 13:57:42.864 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-09 13:57:42.865 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 28.5724ms
2025-03-09 13:57:42.865 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:42.865 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=1&size=12 - - - 200 - application/json;+charset=utf-8 30.0591ms
2025-03-09 13:57:48.654 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-09 13:57:48.655 +03:00 [INF] CORS policy execution successful.
2025-03-09 13:57:48.655 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:48.655 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-09 13:57:48.663 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-09 13:57:48.668 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-09 13:57:48.668 +03:00 [INF] Get All Products
2025-03-09 13:57:48.668 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-09 13:57:48.668 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 13.2426ms
2025-03-09 13:57:48.668 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-09 13:57:48.668 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 13.9307ms
2025-03-10 11:10:05.420 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-10 11:10:05.763 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-10 11:10:05.763 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-10 11:10:05.764 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-10 11:10:05.764 +03:00 [INF] Hosting environment: Development
2025-03-10 11:10:05.764 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-10 11:10:06.975 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-10 11:10:07.038 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 64.7325ms
2025-03-10 11:10:07.080 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-10 11:10:07.117 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 37.1511ms
2025-03-10 11:10:11.198 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:10:11.206 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:11.283 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:10:11.286 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:10:11.287 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 89.7371ms
2025-03-10 11:10:11.290 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:10:11.316 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:11.317 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 27.2255ms
2025-03-10 11:10:11.318 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:10:11.319 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:11.322 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:11.335 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:10:11.850 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:10:11.924 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:10:11.929 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:10:11.963 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:10:11.969 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:10:11.973 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 636.6987ms
2025-03-10 11:10:11.973 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:11.976 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 657.6347ms
2025-03-10 11:10:16.466 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:10:16.466 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:16.468 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:10:16.468 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:10:16.469 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 2.8089ms
2025-03-10 11:10:16.469 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:10:16.470 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:16.470 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.2304ms
2025-03-10 11:10:16.470 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:10:16.470 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:16.471 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:16.471 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:10:16.623 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:10:16.761 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:10:16.767 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:10:16.776 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:10:16.777 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:10:16.778 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 306.5778ms
2025-03-10 11:10:16.778 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:16.778 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 307.6872ms
2025-03-10 11:10:18.120 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:10:18.120 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:18.122 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:10:18.123 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:10:18.123 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 3.2871ms
2025-03-10 11:10:18.124 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:10:18.124 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:18.124 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:18.125 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:10:18.188 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:10:18.247 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:10:18.298 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:10:18.421 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:10:18.449 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:10:18.449 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 324.6015ms
2025-03-10 11:10:18.450 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:18.450 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 326.0071ms
2025-03-10 11:10:23.830 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:10:23.831 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:23.832 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:10:23.836 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:10:23.838 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:10:23.842 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 6.1129ms
2025-03-10 11:10:23.842 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:10:23.843 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 12.1168ms
2025-03-10 11:10:23.847 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:10:23.848 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:23.848 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:10:23.848 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:10:23.848 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 0.8041ms
2025-03-10 11:10:23.851 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:10:23.851 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:23.851 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.2404ms
2025-03-10 11:10:23.852 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:10:23.852 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:23.852 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:23.852 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:10:23.918 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:10:24.169 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:10:24.224 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:10:24.233 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:10:24.233 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:10:24.234 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 381.3534ms
2025-03-10 11:10:24.234 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:24.234 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 382.1422ms
2025-03-10 11:10:31.701 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-10 11:10:31.702 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:31.703 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 1.8963ms
2025-03-10 11:10:31.728 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 44
2025-03-10 11:10:31.729 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:31.730 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:10:31.738 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:10:31.857 +03:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:10:32.017 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:10:32.139 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 400.593ms
2025-03-10 11:10:32.140 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:10:32.175 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.LoginAsync(String usernameOrEmail, String password, Int32 accessTokenLifeTime) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 44
   at ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryHandler.Handle(LoginUserQueryRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Queries/AppUser/LoginUser/LoginUserQueryHandler.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.Login(LoginUserQueryRequest loginUserQueryRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-10 11:10:32.187 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-10 11:10:32.188 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 44 - 500 - application/json 459.8175ms
2025-03-10 11:10:48.248 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:10:48.250 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:48.251 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:10:48.251 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:10:48.252 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 4.2652ms
2025-03-10 11:10:48.254 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:10:48.254 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:48.254 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.3024ms
2025-03-10 11:10:48.255 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:10:48.255 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:10:48.255 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:48.255 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:10:48.274 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:10:48.278 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:10:48.280 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:10:48.286 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:10:48.286 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:10:48.286 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 30.9211ms
2025-03-10 11:10:48.286 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:10:48.287 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 31.8251ms
2025-03-10 11:11:03.056 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:11:03.057 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:03.058 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:11:03.058 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:11:03.058 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 2.0564ms
2025-03-10 11:11:03.061 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:11:03.061 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:03.061 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.3281ms
2025-03-10 11:11:03.062 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 21
2025-03-10 11:11:03.062 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:03.062 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:11:03.062 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:11:03.069 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-10 11:11:03.080 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 17.8492ms
2025-03-10 11:11:03.080 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:11:03.080 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 21 - 400 - application/json;+charset=utf-8 18.6013ms
2025-03-10 11:11:06.924 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:11:06.924 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:06.925 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:11:06.925 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:11:06.925 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:11:06.926 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.7047ms
2025-03-10 11:11:06.926 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:11:06.926 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.6785ms
2025-03-10 11:11:06.928 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:11:06.929 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:06.929 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:11:06.929 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:11:06.929 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 0.4741ms
2025-03-10 11:11:06.930 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 21
2025-03-10 11:11:06.931 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:06.931 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:11:06.931 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:11:06.932 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-10 11:11:06.932 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 1.2617ms
2025-03-10 11:11:06.932 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:11:06.932 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 21 - 400 - application/json;+charset=utf-8 1.6862ms
2025-03-10 11:11:27.762 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-10 11:11:27.763 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:27.764 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 1.4687ms
2025-03-10 11:11:27.765 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-10 11:11:27.765 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:27.766 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:11:27.766 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:11:27.823 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:11:28.001 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:11:28.052 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:11:28.057 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:11:28.058 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-10 11:11:28.058 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 292.3683ms
2025-03-10 11:11:28.058 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:11:28.058 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 293.6094ms
2025-03-10 11:11:30.667 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:11:30.667 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:30.667 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:11:30.668 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:11:30.668 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:11:30.668 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.5302ms
2025-03-10 11:11:30.668 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:11:30.668 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.4020ms
2025-03-10 11:11:30.671 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:11:30.672 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:30.672 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:11:30.672 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:11:30.672 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 0.5470ms
2025-03-10 11:11:30.674 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:11:30.674 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:30.675 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.2640ms
2025-03-10 11:11:30.675 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:11:30.676 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:11:30.676 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:11:30.676 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:11:30.706 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:11:30.997 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:11:31.048 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:11:31.095 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:11:31.118 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:11:31.119 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 442.971ms
2025-03-10 11:11:31.119 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:11:31.119 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 443.8428ms
2025-03-10 11:12:16.151 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:12:16.154 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:12:16.155 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:12:16.156 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:12:16.156 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:12:16.158 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.8533ms
2025-03-10 11:12:16.158 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:12:16.158 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.8880ms
2025-03-10 11:12:16.213 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:12:16.214 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:12:16.221 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:12:16.221 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:12:16.222 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 8.4192ms
2025-03-10 11:12:16.224 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:12:16.225 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:12:16.225 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.4566ms
2025-03-10 11:12:16.226 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:12:16.226 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:12:16.226 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:12:16.226 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:12:16.334 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:12:16.388 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:12:16.421 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:12:16.430 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:12:16.431 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:12:16.431 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 204.8932ms
2025-03-10 11:12:16.431 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:12:16.431 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 205.5921ms
2025-03-10 11:12:39.604 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:12:39.605 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:12:39.606 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:12:39.606 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:12:39.606 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:12:39.606 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2835ms
2025-03-10 11:12:39.606 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:12:39.606 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.9127ms
2025-03-10 11:12:39.609 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=1&size=12 - -
2025-03-10 11:12:39.609 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:12:39.609 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:12:39.609 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:12:39.609 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=1&size=12 - - - 401 0 - 0.4935ms
2025-03-10 11:12:39.611 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:12:39.611 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:12:39.612 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.1184ms
2025-03-10 11:12:39.612 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:12:39.612 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:12:39.612 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:12:39.612 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:12:39.669 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:12:39.792 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:12:39.867 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:12:39.877 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:12:39.877 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:12:39.878 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 265.2998ms
2025-03-10 11:12:39.878 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:12:39.878 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 265.8096ms
2025-03-10 11:15:50.242 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:15:50.271 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:50.272 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:15:50.272 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:15:50.273 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 30.8446ms
2025-03-10 11:15:50.281 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:15:50.281 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:50.281 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.4809ms
2025-03-10 11:15:50.282 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:15:50.282 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:50.282 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:15:50.283 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:15:50.344 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:15:50.349 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:15:50.421 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:15:50.436 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:15:50.437 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:15:50.437 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 154.4669ms
2025-03-10 11:15:50.437 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:15:50.438 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 155.3681ms
2025-03-10 11:15:53.755 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:15:53.756 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:53.756 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:15:53.756 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:15:53.756 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:15:53.757 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3137ms
2025-03-10 11:15:53.757 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:15:53.757 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1673ms
2025-03-10 11:15:53.759 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:15:53.759 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:53.760 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:15:53.760 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:15:53.760 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 0.6657ms
2025-03-10 11:15:53.762 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:15:53.762 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:53.762 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:15:53.762 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:15:53.796 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:15:53.976 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:15:54.055 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:15:54.062 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:15:54.063 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:15:54.063 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 301.1891ms
2025-03-10 11:15:54.063 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:15:54.064 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 301.9362ms
2025-03-10 11:15:57.542 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-10 11:15:57.542 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:57.542 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 0.5988ms
2025-03-10 11:15:57.544 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-10 11:15:57.544 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:57.544 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:15:57.544 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:15:57.602 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:15:57.868 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:15:57.917 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:15:57.920 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:15:57.921 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-10 11:15:57.921 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 376.8202ms
2025-03-10 11:15:57.921 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:15:57.921 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 377.7462ms
2025-03-10 11:15:59.359 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:15:59.359 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:59.359 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:15:59.359 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:15:59.360 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:15:59.360 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.289ms
2025-03-10 11:15:59.360 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:15:59.360 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.0685ms
2025-03-10 11:15:59.362 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:15:59.362 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:59.362 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:15:59.362 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:15:59.362 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 0.2910ms
2025-03-10 11:15:59.365 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:15:59.365 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:59.365 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.2137ms
2025-03-10 11:15:59.366 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:15:59.366 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:15:59.366 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:15:59.366 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:15:59.397 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:15:59.694 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:15:59.747 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:15:59.752 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:15:59.753 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:15:59.754 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 387.5931ms
2025-03-10 11:15:59.754 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:15:59.755 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 388.2215ms
2025-03-10 11:17:59.148 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:17:59.150 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:17:59.152 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:17:59.153 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:17:59.153 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:17:59.154 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:17:59.154 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:17:59.154 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:17:59.154 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:17:59.154 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 6.5943ms
2025-03-10 11:17:59.179 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 25.1604ms
2025-03-10 11:17:59.201 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:17:59.201 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:17:59.201 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 53.4339ms
2025-03-10 11:17:59.201 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:17:59.251 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 49.6747ms
2025-03-10 11:17:59.251 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:17:59.277 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:17:59.277 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:17:59.277 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:17:59.277 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:17:59.278 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:17:59.278 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:17:59.278 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 26.8189ms
2025-03-10 11:17:59.278 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:17:59.304 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:17:59.304 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:17:59.304 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:17:59.304 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:17:59.464 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:17:59.665 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:17:59.808 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:17:59.859 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:17:59.876 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:17:59.920 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:17:59.967 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 689.2653ms
2025-03-10 11:17:59.968 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:17:59.968 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 690.5635ms
2025-03-10 11:17:59.990 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:17:59.992 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:17:59.995 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:18:00.013 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ETicaretAPI.Persistence.Contexts.ETicaretAPIDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Update.Internal.NpgsqlModificationCommandBatch.Consume(RelationalDataReader reader, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-10 11:18:00.073 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:18:00.073 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 769.082ms
2025-03-10 11:18:00.074 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:18:00.074 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 769.8423ms
2025-03-10 11:18:11.956 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:18:12.027 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:18:12.027 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:18:12.027 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:18:12.028 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:18:12.028 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:18:12.029 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:18:12.029 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:18:12.029 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 72.7022ms
2025-03-10 11:18:12.052 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:18:12.052 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:18:12.052 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:18:12.053 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.3498ms
2025-03-10 11:18:12.075 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 24.3596ms
2025-03-10 11:18:12.075 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:18:12.075 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:18:12.076 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 48.8305ms
2025-03-10 11:18:12.076 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:18:12.076 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:18:12.076 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:18:12.078 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:18:12.078 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:18:12.078 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:18:12.079 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:18:12.080 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 2.3832ms
2025-03-10 11:18:12.131 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:18:12.131 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:18:12.131 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:18:12.131 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:18:12.175 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:18:12.175 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:18:12.299 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 168.0085ms
2025-03-10 11:18:12.299 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 222.9014ms
2025-03-10 11:18:12.300 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:18:12.300 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:18:12.350 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-10 11:18:12.350 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-10 11:18:12.351 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-10 11:18:12.351 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-10 11:18:12.351 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 220.5987ms
2025-03-10 11:18:12.351 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 275.9882ms
2025-03-10 11:19:23.744 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-10 11:19:24.110 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-10 11:19:24.110 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-10 11:19:24.111 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-10 11:19:24.111 +03:00 [INF] Hosting environment: Development
2025-03-10 11:19:24.111 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-10 11:19:25.380 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-10 11:19:25.433 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 54.0502ms
2025-03-10 11:19:25.487 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-10 11:19:25.526 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 39.6562ms
2025-03-10 11:19:38.777 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-10 11:19:38.787 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:19:38.790 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 13.8283ms
2025-03-10 11:19:38.793 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-10 11:19:38.796 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:19:38.815 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:19:38.833 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:19:39.354 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:19:39.476 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:19:39.576 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:19:39.620 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:19:39.626 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-10 11:19:39.630 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 796.1207ms
2025-03-10 11:19:39.630 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:19:39.633 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 840.6894ms
2025-03-10 11:19:41.172 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:19:41.174 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:19:41.175 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:19:41.178 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:19:41.179 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:19:41.183 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 5.3893ms
2025-03-10 11:19:41.183 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:19:41.184 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 11.4260ms
2025-03-10 11:19:41.186 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:19:41.187 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:19:41.221 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:19:41.224 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:19:41.225 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 38.6129ms
2025-03-10 11:19:41.227 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:19:41.227 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:19:41.227 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.3117ms
2025-03-10 11:19:41.228 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:19:41.228 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:19:41.228 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:19:41.230 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:19:41.288 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:19:41.291 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:19:41.293 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:19:41.296 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:19:41.297 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:19:41.297 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 67.1612ms
2025-03-10 11:19:41.297 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:19:41.297 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 69.6879ms
2025-03-10 11:27:30.306 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-10 11:27:30.677 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-10 11:27:30.677 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-10 11:27:30.703 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-10 11:27:30.703 +03:00 [INF] Hosting environment: Development
2025-03-10 11:27:30.703 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-10 11:27:31.915 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-10 11:27:31.967 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 53.5115ms
2025-03-10 11:27:32.008 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-10 11:27:32.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 45.5078ms
2025-03-10 11:27:55.718 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:27:55.726 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:27:55.748 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:27:55.758 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:27:55.764 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:27:55.773 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 11.6696ms
2025-03-10 11:27:55.773 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:27:55.774 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 55.9061ms
2025-03-10 11:27:55.777 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:27:55.778 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:27:55.847 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:27:55.849 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:27:55.849 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 71.6592ms
2025-03-10 11:27:55.851 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:27:55.873 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:27:55.874 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 22.7662ms
2025-03-10 11:27:55.875 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:27:55.876 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:27:55.877 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:27:55.887 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:27:56.427 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:27:56.502 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:27:56.506 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:27:56.540 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:27:56.544 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:27:56.547 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 659.8651ms
2025-03-10 11:27:56.547 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:27:56.550 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 674.1821ms
2025-03-10 11:28:37.272 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:28:37.272 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:28:37.273 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:28:37.273 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:28:37.273 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:28:37.273 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:28:37.273 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:28:37.274 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3584ms
2025-03-10 11:28:37.274 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:28:37.274 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.7908ms
2025-03-10 11:28:37.301 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:28:37.301 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:28:37.302 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:28:37.302 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:28:37.303 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 30.7647ms
2025-03-10 11:28:37.304 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:28:37.304 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:28:37.304 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 3.3205ms
2025-03-10 11:28:37.305 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:28:37.305 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:28:37.305 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.1878ms
2025-03-10 11:28:37.306 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:28:37.306 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:28:37.306 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:28:37.306 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:28:37.306 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:28:37.306 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:28:37.306 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:28:37.306 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:28:37.404 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:28:37.460 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:28:37.491 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:28:37.500 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:28:37.526 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:28:37.527 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 220.5436ms
2025-03-10 11:28:37.527 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:28:37.528 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 221.7783ms
2025-03-10 11:28:37.554 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:28:37.669 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 362.6005ms
2025-03-10 11:28:37.669 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:28:37.706 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-10 11:28:37.728 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-10 11:28:37.729 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 422.9822ms
2025-03-10 11:29:26.056 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-10 11:29:26.328 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-10 11:29:26.328 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-10 11:29:26.329 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-10 11:29:26.329 +03:00 [INF] Hosting environment: Development
2025-03-10 11:29:26.329 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-10 11:29:27.539 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-10 11:29:27.599 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 60.0080ms
2025-03-10 11:29:27.639 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-10 11:29:27.678 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.8591ms
2025-03-10 11:29:33.230 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:29:33.235 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:29:33.244 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:29:33.245 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:29:33.251 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:29:33.303 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:29:33.335 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:29:33.346 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 39.9541ms
2025-03-10 11:29:33.346 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:29:33.346 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:29:33.347 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 103.2672ms
2025-03-10 11:29:33.349 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:29:33.349 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:29:33.350 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:29:33.350 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 120.0302ms
2025-03-10 11:29:33.351 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-10 11:29:33.352 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:29:33.352 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:29:33.352 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.8164ms
2025-03-10 11:29:33.353 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-10 11:29:33.354 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:29:33.354 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:29:33.361 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-10 11:29:33.361 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:29:38.122 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-10 11:29:38.159 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-10 11:29:38.159 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-10 11:29:38.160 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-10 11:29:38.200 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-10 11:29:38.202 +03:00 [INF] Get All Products
2025-03-10 11:29:38.202 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-10 11:29:38.216 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 4854.8277ms
2025-03-10 11:29:38.216 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-10 11:29:38.218 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 4869.0373ms
2025-03-10 11:29:38.237 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:29:38.254 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:29:38.288 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:29:38.292 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-10 11:29:38.293 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 4932.3051ms
2025-03-10 11:29:38.293 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:29:38.294 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 4941.0497ms
2025-03-10 11:33:51.605 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-10 11:33:51.931 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-10 11:33:51.932 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-10 11:33:51.933 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-10 11:33:51.933 +03:00 [INF] Hosting environment: Development
2025-03-10 11:33:51.933 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-10 11:33:53.150 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-10 11:33:53.209 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 60.5785ms
2025-03-10 11:33:53.251 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-10 11:33:53.294 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 43.5783ms
2025-03-10 11:34:04.925 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-10 11:34:04.932 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:04.936 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 11.8510ms
2025-03-10 11:34:04.937 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:34:04.939 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:05.088 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-10 11:34:05.102 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-10 11:34:15.403 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-10 11:34:15.491 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Baskets" ("Id", "CreatedDate", "UpdatedDate", "UserId")
VALUES (@p0, @p1, @p2, @p3);
2025-03-10 11:34:15.506 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-10 11:34:15.510 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-10 11:34:15.518 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 10413.8515ms
2025-03-10 11:34:15.518 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-10 11:34:15.521 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 10583.9831ms
2025-03-10 11:34:34.698 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:34:34.701 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:34.710 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-10 11:34:34.720 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-10 11:34:34.721 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 23.0981ms
2025-03-10 11:34:34.726 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-10 11:34:34.726 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:34.727 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.9305ms
2025-03-10 11:34:34.728 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 21
2025-03-10 11:34:34.728 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:34.729 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:34:34.732 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:34:34.740 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-10 11:34:34.745 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 12.9365ms
2025-03-10 11:34:34.745 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-10 11:34:34.745 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 21 - 400 - application/json;+charset=utf-8 17.0607ms
2025-03-10 11:34:43.580 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-10 11:34:43.581 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:43.582 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 1.9865ms
2025-03-10 11:34:43.584 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-10 11:34:43.587 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:43.589 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:34:43.595 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-10 11:34:43.661 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:34:43.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-10 11:34:43.724 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-10 11:34:43.745 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-10 11:34:43.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-10 11:34:43.748 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 153.3252ms
2025-03-10 11:34:43.748 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-10 11:34:43.749 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 164.9550ms
2025-03-10 11:34:44.962 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:34:44.963 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:44.963 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.7652ms
2025-03-10 11:34:44.964 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:34:44.965 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:44.965 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:34:44.967 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:34:44.968 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:34:44.970 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 2.6207ms
2025-03-10 11:34:44.970 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:34:44.970 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.5683ms
2025-03-10 11:34:45.000 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:34:45.001 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:45.001 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.8764ms
2025-03-10 11:34:45.002 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:34:45.002 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:45.003 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-10 11:34:45.011 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-10 11:34:45.070 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-10 11:34:45.077 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-10 11:34:45.078 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-10 11:34:45.092 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-10 11:34:45.094 +03:00 [INF] Get All Products
2025-03-10 11:34:45.094 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-10 11:34:45.102 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 91.4304ms
2025-03-10 11:34:45.102 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-10 11:34:45.102 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 100.2624ms
2025-03-10 11:34:53.475 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-10 11:34:53.478 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:53.479 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 3.8960ms
2025-03-10 11:34:53.482 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-10 11:34:53.482 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:34:53.489 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-10 11:34:53.494 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-10 11:35:03.206 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-10 11:35:03.206 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:35:03.209 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:03.209 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:03.210 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 4.7617ms
2025-03-10 11:35:03.231 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 24.9660ms
2025-03-10 11:35:03.235 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:35:03.258 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:35:03.281 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:03.282 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:03.408 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:35:03.530 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-10 11:35:03.581 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:35:03.581 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-10 11:35:03.607 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:35:03.633 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 51.7019ms
2025-03-10 11:35:03.633 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:35:03.633 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 402.3155ms
2025-03-10 11:35:03.686 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:35:03.712 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:03.713 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 26.2344ms
2025-03-10 11:35:03.756 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:35:03.756 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:03.757 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-10 11:35:03.757 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-10 11:35:03.859 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-10 11:35:04.108 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-10 11:35:04.124 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:04.124 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:04.129 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:04.129 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:04.132 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-10 11:35:04.134 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-10 11:35:04.134 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-10 11:35:04.135 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 528.3374ms
2025-03-10 11:35:04.135 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-10 11:35:04.135 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 876.5396ms
2025-03-10 11:35:04.137 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-10 11:35:04.137 +03:00 [INF] Get All Products
2025-03-10 11:35:04.138 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-10 11:35:04.140 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 383.2261ms
2025-03-10 11:35:04.140 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-10 11:35:04.140 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 384.5521ms
2025-03-10 11:35:04.193 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-10 11:35:04.284 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-10 11:35:04.284 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-10 11:35:04.285 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 10790.2685ms
2025-03-10 11:35:04.285 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-10 11:35:04.285 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 10803.4215ms
2025-03-10 11:35:06.256 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-10 11:35:06.256 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:06.257 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.3141ms
2025-03-10 11:35:06.259 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-10 11:35:06.260 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:06.261 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-10 11:35:06.261 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-10 11:35:06.318 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-10 11:35:06.348 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:06.361 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:06.368 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-10 11:35:06.376 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-10 11:35:06.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-10 11:35:06.377 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 115.7342ms
2025-03-10 11:35:06.377 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-10 11:35:06.378 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 118.3402ms
2025-03-10 11:35:07.435 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-10 11:35:07.435 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:07.436 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-10 11:35:07.437 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-10 11:35:07.461 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-10 11:35:07.661 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:07.666 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:07.698 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-10 11:35:07.709 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-10 11:35:07.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-10 11:35:07.711 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 274.3147ms
2025-03-10 11:35:07.711 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-10 11:35:07.712 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 277.2386ms
2025-03-10 11:35:11.017 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-10 11:35:11.017 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:11.018 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-10 11:35:11.018 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-10 11:35:11.048 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-10 11:35:11.095 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:35:11.096 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:11.096 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.4983ms
2025-03-10 11:35:11.100 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:11.100 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-10 11:35:11.100 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:11.101 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:35:11.101 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-10 11:35:11.101 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-10 11:35:11.102 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.7177ms
2025-03-10 11:35:11.102 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-10 11:35:11.102 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.7618ms
2025-03-10 11:35:11.104 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-10 11:35:11.104 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:35:11.104 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:11.104 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1617ms
2025-03-10 11:35:11.131 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-10 11:35:11.132 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-10 11:35:11.132 +03:00 [INF] CORS policy execution successful.
2025-03-10 11:35:11.133 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-10 11:35:11.133 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-10 11:35:11.144 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-10 11:35:11.148 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-10 11:35:11.148 +03:00 [INF] Get All Products
2025-03-10 11:35:11.148 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-10 11:35:11.149 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 15.6997ms
2025-03-10 11:35:11.149 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-10 11:35:11.149 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 18.0348ms
2025-03-10 11:35:11.170 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-10 11:35:11.171 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 152.6228ms
2025-03-10 11:35:11.171 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-10 11:35:11.171 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 154.1430ms
2025-03-15 16:19:42.835 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-15 16:19:43.139 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-15 16:19:43.139 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-15 16:19:43.140 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-15 16:19:43.140 +03:00 [INF] Hosting environment: Development
2025-03-15 16:19:43.140 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-15 16:19:44.476 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-15 16:19:44.526 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 50.8454ms
2025-03-15 16:19:44.635 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-15 16:19:44.674 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.7833ms
2025-03-15 16:19:55.989 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:19:56.009 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:19:56.012 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 23.8547ms
2025-03-15 16:19:56.013 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:19:56.015 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:19:56.200 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 16:19:56.215 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 16:19:56.216 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 16:19:56.218 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 16:19:56.219 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 401 0 - 205.8888ms
2025-03-15 16:19:56.225 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 16:19:56.225 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:19:56.225 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.5163ms
2025-03-15 16:19:56.226 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 16:19:56.226 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:19:56.228 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 16:19:56.242 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 16:19:56.836 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 16:19:56.968 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 725.1905ms
2025-03-15 16:19:56.968 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 16:19:57.009 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 16:19:57.017 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 16:19:57.022 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 796.2984ms
2025-03-15 16:20:08.046 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-15 16:20:08.048 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:08.049 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 3.2815ms
2025-03-15 16:20:08.051 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-15 16:20:08.051 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:08.054 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-15 16:20:08.063 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 16:20:08.193 +03:00 [INF] Executed DbCommand (77ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-15 16:20:08.401 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-15 16:20:08.407 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-15 16:20:08.442 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-15 16:20:08.447 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-15 16:20:08.452 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 387.9364ms
2025-03-15 16:20:08.452 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-15 16:20:08.452 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 401.2421ms
2025-03-15 16:20:10.459 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:10.460 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:10.460 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.3420ms
2025-03-15 16:20:10.462 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:10.462 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:10.462 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:10.464 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:20:10.465 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:20:10.467 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 2.99ms
2025-03-15 16:20:10.467 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:10.467 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.8642ms
2025-03-15 16:20:10.470 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:10.470 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:10.470 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2655ms
2025-03-15 16:20:10.471 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:10.471 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:10.492 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:10.497 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:20:10.570 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:20:10.580 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-15 16:20:10.581 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-15 16:20:10.628 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:20:10.630 +03:00 [INF] Get All Products
2025-03-15 16:20:10.630 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:20:10.637 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 139.9574ms
2025-03-15 16:20:10.637 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:10.637 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 166.3548ms
2025-03-15 16:20:16.927 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:20:16.927 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:16.928 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.9829ms
2025-03-15 16:20:16.929 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-15 16:20:16.929 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:16.934 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 16:20:16.938 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:16.976 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:20:17.004 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:17.007 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:17.020 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-15 16:20:17.059 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-15 16:20:17.060 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-15 16:20:17.060 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 121.3359ms
2025-03-15 16:20:17.060 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 16:20:17.060 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 130.9371ms
2025-03-15 16:20:21.490 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:20:21.491 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:21.491 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:20:21.495 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:21.558 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:20:21.660 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:21.753 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:21.753 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:21.754 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:21.754 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.5509ms
2025-03-15 16:20:21.755 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:21.756 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:21.756 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:21.756 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:20:21.756 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:20:21.756 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3605ms
2025-03-15 16:20:21.756 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:21.756 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1668ms
2025-03-15 16:20:21.760 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:21.760 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:21.760 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2084ms
2025-03-15 16:20:21.786 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:21.786 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:21.788 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:21.788 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:20:21.800 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:20:21.806 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:20:21.807 +03:00 [INF] Get All Products
2025-03-15 16:20:21.807 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:20:21.807 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 19.4684ms
2025-03-15 16:20:21.807 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:21.808 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 21.4378ms
2025-03-15 16:20:21.817 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:20:21.847 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:20:21.849 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 353.5417ms
2025-03-15 16:20:21.849 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:20:21.849 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 358.7060ms
2025-03-15 16:20:27.734 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets/ee231e9d-328f-46ce-b5a7-b2ec48a6be0e - -
2025-03-15 16:20:27.735 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:27.735 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets/ee231e9d-328f-46ce-b5a7-b2ec48a6be0e - - - 204 - - 1.3257ms
2025-03-15 16:20:27.736 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7285/api/baskets/ee231e9d-328f-46ce-b5a7-b2ec48a6be0e - -
2025-03-15 16:20:27.737 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:27.738 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API)'
2025-03-15 16:20:27.744 +03:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ETicaretAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:27.759 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2025-03-15 16:20:27.855 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BasketItems"
WHERE "Id" = @p0;
2025-03-15 16:20:27.860 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandResponse'.
2025-03-15 16:20:27.861 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API) in 115.9517ms
2025-03-15 16:20:27.861 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API)'
2025-03-15 16:20:27.861 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7285/api/baskets/ee231e9d-328f-46ce-b5a7-b2ec48a6be0e - - - 200 - application/json;+charset=utf-8 124.6225ms
2025-03-15 16:20:29.359 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets/19129384-5c0c-4b64-8125-8b4f83dc3763 - -
2025-03-15 16:20:29.360 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:29.360 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets/19129384-5c0c-4b64-8125-8b4f83dc3763 - - - 204 - - 0.9130ms
2025-03-15 16:20:29.361 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7285/api/baskets/19129384-5c0c-4b64-8125-8b4f83dc3763 - -
2025-03-15 16:20:29.362 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:29.363 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API)'
2025-03-15 16:20:29.364 +03:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ETicaretAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:29.423 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2025-03-15 16:20:29.510 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BasketItems"
WHERE "Id" = @p0;
2025-03-15 16:20:29.511 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandResponse'.
2025-03-15 16:20:29.512 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API) in 148.0102ms
2025-03-15 16:20:29.512 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API)'
2025-03-15 16:20:29.512 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7285/api/baskets/19129384-5c0c-4b64-8125-8b4f83dc3763 - - - 200 - application/json;+charset=utf-8 150.5567ms
2025-03-15 16:20:32.632 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:20:32.632 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:32.633 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.5731ms
2025-03-15 16:20:32.633 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:20:32.634 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:32.634 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:32.634 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:32.634 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.1750ms
2025-03-15 16:20:32.634 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:20:32.634 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:32.660 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:32.660 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:32.660 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:32.660 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:20:32.660 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:20:32.660 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2211ms
2025-03-15 16:20:32.661 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:32.661 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.8498ms
2025-03-15 16:20:32.662 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:32.662 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:32.662 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1722ms
2025-03-15 16:20:32.761 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:32.810 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:20:32.882 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:33.004 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:33.026 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:33.074 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:20:33.080 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:33.095 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:20:33.096 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:20:33.097 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 462.2329ms
2025-03-15 16:20:33.097 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:20:33.097 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 463.7770ms
2025-03-15 16:20:33.118 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:20:33.121 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:20:33.121 +03:00 [INF] Get All Products
2025-03-15 16:20:33.121 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:20:33.122 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 48.0842ms
2025-03-15 16:20:33.122 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:33.122 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 361.5712ms
2025-03-15 16:20:33.763 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:20:33.764 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:33.764 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.2094ms
2025-03-15 16:20:33.768 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-15 16:20:33.768 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:33.769 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 16:20:33.769 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:33.782 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:20:33.788 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:33.790 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:33.820 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-15 16:20:33.862 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-15 16:20:33.863 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-15 16:20:33.863 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 93.5805ms
2025-03-15 16:20:33.863 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 16:20:33.863 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 95.1126ms
2025-03-15 16:20:36.379 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:20:36.379 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:36.380 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:20:36.380 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:36.381 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:36.381 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:36.382 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:36.382 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:20:36.382 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:20:36.382 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2749ms
2025-03-15 16:20:36.382 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:36.382 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6716ms
2025-03-15 16:20:36.473 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:20:36.620 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:36.693 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:36.766 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:36.768 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:36.768 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:20:36.770 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:36.801 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:20:36.803 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:20:36.803 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:20:36.803 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 422.8449ms
2025-03-15 16:20:36.803 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:20:36.804 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 424.3827ms
2025-03-15 16:20:36.811 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:20:36.812 +03:00 [INF] Get All Products
2025-03-15 16:20:36.812 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:20:36.813 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 44.6362ms
2025-03-15 16:20:36.813 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:36.813 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 215.0247ms
2025-03-15 16:20:40.854 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:20:40.854 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:40.854 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.5457ms
2025-03-15 16:20:40.855 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 34
2025-03-15 16:20:40.856 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:40.857 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:20:40.862 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:40.872 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-15 16:20:40.880 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API) in 17.404ms
2025-03-15 16:20:40.880 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:20:40.880 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 34 - 400 - application/json;+charset=utf-8 24.4173ms
2025-03-15 16:20:45.763 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:20:45.763 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:45.764 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:20:45.764 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:20:45.765 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:45.765 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:45.765 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.1783ms
2025-03-15 16:20:45.767 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:20:45.767 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:45.767 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:45.767 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:20:45.768 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:20:45.768 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2222ms
2025-03-15 16:20:45.768 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:20:45.768 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.8426ms
2025-03-15 16:20:45.815 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:45.815 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:45.816 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4257ms
2025-03-15 16:20:45.817 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:20:45.842 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:20:45.842 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:20:45.844 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:45.844 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:20:45.869 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:45.874 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:20:45.874 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:20:45.878 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:20:45.878 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:20:45.879 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 114.7108ms
2025-03-15 16:20:45.879 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:20:45.879 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 115.9177ms
2025-03-15 16:20:45.880 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:20:45.880 +03:00 [INF] Get All Products
2025-03-15 16:20:45.880 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:20:45.880 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 35.3444ms
2025-03-15 16:20:45.880 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:20:45.880 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 38.8062ms
2025-03-15 16:22:10.818 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:22:10.820 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:10.821 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 3.1464ms
2025-03-15 16:22:10.823 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 34
2025-03-15 16:22:10.823 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:10.826 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:22:10.827 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:22:10.830 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-15 16:22:10.831 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API) in 4.093ms
2025-03-15 16:22:10.831 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:22:10.831 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 34 - 400 - application/json;+charset=utf-8 8.8695ms
2025-03-15 16:22:27.304 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:22:27.307 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:27.309 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:22:27.309 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 26.6011ms
2025-03-15 16:22:27.336 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:27.338 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 29.4982ms
2025-03-15 16:22:27.338 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:22:27.386 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:27.386 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:22:27.386 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:27.388 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:22:27.389 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:22:27.390 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:22:27.390 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:22:27.390 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:22:27.391 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.8118ms
2025-03-15 16:22:27.391 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:22:27.391 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.1999ms
2025-03-15 16:22:27.397 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:22:27.397 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:27.397 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3384ms
2025-03-15 16:22:27.399 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:22:27.399 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:27.400 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:22:27.400 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:22:27.520 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:22:27.766 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:22:27.767 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:22:27.771 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:22:27.775 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:22:27.777 +03:00 [INF] Get All Products
2025-03-15 16:22:27.777 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:22:27.778 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 377.2645ms
2025-03-15 16:22:27.778 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:22:27.779 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 379.9262ms
2025-03-15 16:22:27.805 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:22:27.806 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:22:27.806 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 415.804ms
2025-03-15 16:22:27.806 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:22:27.806 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 467.9735ms
2025-03-15 16:22:31.246 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:22:31.247 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:31.247 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6517ms
2025-03-15 16:22:31.249 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 34
2025-03-15 16:22:31.249 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:22:31.250 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:22:31.251 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:22:31.253 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-15 16:22:31.253 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API) in 2.6445ms
2025-03-15 16:22:31.253 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:22:31.253 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 34 - 400 - application/json;+charset=utf-8 4.6585ms
2025-03-15 16:23:29.302 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:23:29.304 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:29.304 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 2.2652ms
2025-03-15 16:23:29.306 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 34
2025-03-15 16:23:29.306 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:29.310 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:23:29.311 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:23:29.314 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2025-03-15 16:23:29.315 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API) in 4.0605ms
2025-03-15 16:23:29.315 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:23:29.317 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 34 - 400 - application/json;+charset=utf-8 11.1045ms
2025-03-15 16:23:51.617 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:23:51.617 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:23:51.667 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:51.667 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:51.668 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 123.7696ms
2025-03-15 16:23:51.668 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 50.1190ms
2025-03-15 16:23:51.694 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:23:51.716 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:51.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:23:51.717 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:51.718 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:23:51.720 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:23:51.721 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:23:51.721 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:23:51.721 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:23:51.722 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.872ms
2025-03-15 16:23:51.722 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:23:51.722 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 27.7245ms
2025-03-15 16:23:51.748 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:23:51.748 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:51.748 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2744ms
2025-03-15 16:23:51.820 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:23:51.820 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:51.820 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:23:51.821 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:23:51.873 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:23:51.873 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:23:51.927 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:23:51.974 +03:00 [INF] Get All Products
2025-03-15 16:23:51.975 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:23:51.975 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 154.392ms
2025-03-15 16:23:51.975 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:23:51.976 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 155.9716ms
2025-03-15 16:23:52.019 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:23:52.069 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:23:52.074 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:23:52.075 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:23:52.075 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 354.4872ms
2025-03-15 16:23:52.075 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:23:52.076 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 358.5845ms
2025-03-15 16:23:58.801 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:23:58.802 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:58.803 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.4186ms
2025-03-15 16:23:58.804 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:23:58.804 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:58.804 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.3240ms
2025-03-15 16:23:58.805 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:23:58.805 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:58.809 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:23:58.810 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:23:58.933 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:23:58.958 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:58.959 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:23:58.959 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:23:59.006 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:23:59.034 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 75.0602ms
2025-03-15 16:23:59.037 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:23:59.082 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 149.5898ms
2025-03-15 16:23:59.131 +03:00 [INF] Executed DbCommand (99ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:23:59.160 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:23:59.160 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:59.185 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.7164ms
2025-03-15 16:23:59.336 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:23:59.340 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:23:59.340 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:23:59.341 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:23:59.342 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:23:59.346 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:23:59.351 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:23:59.375 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:23:59.451 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:23:59.452 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 641.8383ms
2025-03-15 16:23:59.452 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:23:59.452 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 646.8902ms
2025-03-15 16:23:59.456 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:23:59.456 +03:00 [INF] Get All Products
2025-03-15 16:23:59.456 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:23:59.457 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 115.0433ms
2025-03-15 16:23:59.457 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:23:59.457 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 123.2258ms
2025-03-15 16:27:28.816 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:27:28.817 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:28.817 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.3018ms
2025-03-15 16:27:28.845 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:27:28.868 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:28.868 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 23.3921ms
2025-03-15 16:27:28.923 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:27:28.924 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:27:29.019 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:29.019 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:29.044 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:27:29.045 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:27:29.046 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:27:29.046 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:27:29.046 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:27:29.047 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.991ms
2025-03-15 16:27:29.047 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:27:29.047 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 123.6008ms
2025-03-15 16:27:29.117 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:27:29.118 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:29.118 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4744ms
2025-03-15 16:27:29.168 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:27:29.169 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:29.170 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:27:29.170 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:27:29.307 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:27:29.344 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:27:29.346 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:27:29.346 +03:00 [INF] Get All Products
2025-03-15 16:27:29.347 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:27:29.347 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 177.0282ms
2025-03-15 16:27:29.347 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:27:29.347 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 178.7470ms
2025-03-15 16:27:29.371 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:27:29.372 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:27:29.375 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:27:29.375 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:27:29.376 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 329.4256ms
2025-03-15 16:27:29.376 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:27:29.376 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 477.4823ms
2025-03-15 16:27:35.450 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:27:35.450 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:35.450 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.3442ms
2025-03-15 16:27:35.451 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:27:35.472 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:35.473 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 22.6729ms
2025-03-15 16:27:35.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:27:35.476 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:35.476 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:27:35.476 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:27:35.476 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:27:35.476 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1751ms
2025-03-15 16:27:35.476 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:27:35.476 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6567ms
2025-03-15 16:27:35.476 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:27:35.477 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:35.477 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:27:35.477 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:27:35.478 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:27:35.478 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:35.478 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1263ms
2025-03-15 16:27:35.478 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:27:35.478 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:35.479 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:27:35.479 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:27:35.482 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:27:35.483 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:27:35.505 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:27:35.511 +03:00 [INF] Get All Products
2025-03-15 16:27:35.511 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:27:35.511 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 32.6551ms
2025-03-15 16:27:35.512 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:27:35.512 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 33.2687ms
2025-03-15 16:27:35.540 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:27:35.572 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:27:35.577 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:27:35.578 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:27:35.578 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 100.9011ms
2025-03-15 16:27:35.578 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:27:35.578 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 103.2117ms
2025-03-15 16:27:38.319 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:27:38.319 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:38.319 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.4672ms
2025-03-15 16:27:38.320 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 68
2025-03-15 16:27:38.321 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:38.321 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:27:38.321 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:27:48.567 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2025-03-15 16:27:48.749 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2025-03-15 16:27:48.750 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API) in 10428.515ms
2025-03-15 16:27:48.750 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-15 16:27:48.803 +03:00 [ERR] Failed executing DbCommand (31ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-15 16:27:53.394 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:27:53.418 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:53.418 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 25.2748ms
2025-03-15 16:27:53.419 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:27:53.419 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:53.419 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.1660ms
2025-03-15 16:27:53.420 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:27:53.420 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:27:53.420 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:53.420 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:27:53.420 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:27:53.420 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:27:53.420 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1852ms
2025-03-15 16:27:53.420 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:27:53.420 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6592ms
2025-03-15 16:27:53.443 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:53.493 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:27:53.493 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:53.493 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:27:53.493 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3940ms
2025-03-15 16:27:53.493 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:27:53.494 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:27:53.494 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:27:53.495 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:27:53.495 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:27:53.501 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:27:53.534 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:27:53.558 +03:00 [INF] Get All Products
2025-03-15 16:27:53.559 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:27:53.586 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 91.3413ms
2025-03-15 16:27:53.587 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:27:53.587 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 92.6213ms
2025-03-15 16:27:53.612 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:27:53.615 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:27:53.617 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:27:53.621 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:27:53.621 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:27:53.621 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 128.0131ms
2025-03-15 16:27:53.621 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:27:53.622 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 201.8180ms
2025-03-15 16:28:02.943 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:28:02.944 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:02.944 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.1335ms
2025-03-15 16:28:02.948 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:28:02.948 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:02.948 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.2204ms
2025-03-15 16:28:02.950 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:28:02.950 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:02.951 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:28:02.952 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:28:03.079 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:28:03.079 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:03.080 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:28:03.105 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:28:03.153 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:28:03.180 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 74.3528ms
2025-03-15 16:28:03.181 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:28:03.181 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 102.6400ms
2025-03-15 16:28:03.238 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:28:03.239 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:03.239 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 30.9227ms
2025-03-15 16:28:03.245 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:28:03.245 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:03.269 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:28:03.269 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:28:03.367 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:28:03.584 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:28:03.634 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:28:03.678 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:28:03.697 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:28:03.698 +03:00 [INF] Get All Products
2025-03-15 16:28:03.698 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:28:03.698 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:28:03.698 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 429.233ms
2025-03-15 16:28:03.698 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:28:03.698 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 453.7667ms
2025-03-15 16:28:03.750 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:28:03.751 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 799.1849ms
2025-03-15 16:28:03.751 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:28:03.751 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 800.7889ms
2025-03-15 16:28:08.342 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 16:28:08.342 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:08.343 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.2960ms
2025-03-15 16:28:08.344 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:28:08.344 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 16:28:08.344 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:08.344 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:08.344 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.2936ms
2025-03-15 16:28:08.391 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:28:08.392 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:08.392 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:28:08.392 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:28:08.392 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 16:28:08.392 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:28:08.392 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:28:08.392 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1624ms
2025-03-15 16:28:08.392 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:28:08.392 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1453ms
2025-03-15 16:28:08.395 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:28:08.395 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:08.395 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3776ms
2025-03-15 16:28:08.398 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:28:08.398 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:28:08.400 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:28:08.400 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:28:08.426 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 16:28:08.548 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:28:08.549 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:28:08.551 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 16:28:08.577 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:28:08.577 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 16:28:08.578 +03:00 [INF] Get All Products
2025-03-15 16:28:08.578 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:28:08.578 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 16:28:08.578 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 177.6053ms
2025-03-15 16:28:08.578 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:28:08.578 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 186.2127ms
2025-03-15 16:28:08.578 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 16:28:08.578 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 180.6543ms
2025-03-15 16:28:08.578 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 234.0315ms
2025-03-15 16:34:17.149 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:34:17.150 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:34:17.150 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.9112ms
2025-03-15 16:34:17.202 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 16:34:17.205 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:34:17.206 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:34:17.208 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 16:34:17.208 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 16:34:17.209 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.2408ms
2025-03-15 16:34:17.209 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 16:34:17.209 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 7.7282ms
2025-03-15 16:34:17.216 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:34:17.216 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:34:17.217 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2892ms
2025-03-15 16:34:17.218 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 16:34:17.218 +03:00 [INF] CORS policy execution successful.
2025-03-15 16:34:17.220 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:34:17.220 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 16:34:17.272 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 16:34:17.275 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 16:34:17.276 +03:00 [INF] Get All Products
2025-03-15 16:34:17.276 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 16:34:17.276 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 56.3515ms
2025-03-15 16:34:17.276 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 16:34:17.277 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 58.9565ms
2025-03-15 17:01:06.495 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:01:06.496 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:06.496 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.6354ms
2025-03-15 17:01:06.500 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:01:06.500 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:06.501 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:01:06.502 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:01:06.503 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:01:06.503 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.8577ms
2025-03-15 17:01:06.503 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:01:06.503 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.2922ms
2025-03-15 17:01:06.521 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:01:06.521 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:06.521 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1936ms
2025-03-15 17:01:06.522 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:01:06.522 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:06.526 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:01:06.528 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:01:06.530 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:01:06.532 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:01:06.532 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 10.7231ms
2025-03-15 17:01:06.538 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:01:06.538 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:06.538 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.1221ms
2025-03-15 17:01:06.539 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:01:06.539 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:06.539 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:01:06.539 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:01:06.744 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:01:06.849 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 310.2345ms
2025-03-15 17:01:06.849 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:01:06.877 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:01:06.887 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:01:06.887 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 348.4236ms
2025-03-15 17:01:45.681 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:01:45.683 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:45.686 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 5.6761ms
2025-03-15 17:01:45.734 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:01:45.771 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:45.772 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:01:45.772 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:01:45.773 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:01:45.774 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.2258ms
2025-03-15 17:01:45.774 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:01:45.774 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 39.5439ms
2025-03-15 17:01:45.778 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:01:45.778 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:45.778 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2755ms
2025-03-15 17:01:45.781 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:01:45.781 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:45.784 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:01:45.784 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:01:45.784 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:01:45.785 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:01:45.785 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 3.8709ms
2025-03-15 17:01:45.788 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:01:45.788 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:45.788 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.2155ms
2025-03-15 17:01:45.788 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:01:45.789 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:01:45.789 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:01:45.789 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:01:45.819 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:01:45.894 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 105.5429ms
2025-03-15 17:01:45.894 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:01:45.920 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:01:45.921 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:01:45.921 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 132.6243ms
2025-03-15 17:02:39.809 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:02:39.810 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:39.811 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.4227ms
2025-03-15 17:02:39.813 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:02:39.813 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:39.814 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:02:39.815 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:02:39.815 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:02:39.815 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.7075ms
2025-03-15 17:02:39.815 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:02:39.816 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.6102ms
2025-03-15 17:02:39.821 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:02:39.822 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:39.822 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3813ms
2025-03-15 17:02:39.823 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:02:39.823 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:39.824 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:02:39.825 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:02:39.825 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:02:39.825 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:02:39.826 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 2.6993ms
2025-03-15 17:02:39.830 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:02:39.831 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:39.831 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.5360ms
2025-03-15 17:02:39.832 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:02:39.832 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:39.832 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:02:39.832 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:02:39.852 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:02:39.924 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 91.9009ms
2025-03-15 17:02:39.924 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:02:39.947 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:02:39.948 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:02:39.948 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 115.9380ms
2025-03-15 17:02:41.053 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:02:41.054 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:41.054 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:02:41.054 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:02:41.054 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:02:41.054 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1795ms
2025-03-15 17:02:41.054 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:02:41.054 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.7699ms
2025-03-15 17:02:41.070 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:02:41.070 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:41.070 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:02:41.070 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:02:41.071 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:02:41.071 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:02:41.071 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 0.9120ms
2025-03-15 17:02:41.084 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:02:41.084 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:02:41.084 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:02:41.084 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:02:41.096 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:02:41.160 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 76.254ms
2025-03-15 17:02:41.161 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:02:41.186 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:02:41.187 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:02:41.187 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 103.1657ms
2025-03-15 17:04:41.922 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:04:41.925 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:04:41.925 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 27.9405ms
2025-03-15 17:04:41.928 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:04:41.928 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:04:41.929 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:04:41.930 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:04:41.930 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:04:41.931 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.895ms
2025-03-15 17:04:41.931 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:04:41.931 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.2180ms
2025-03-15 17:04:41.937 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:04:41.937 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:04:41.937 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4962ms
2025-03-15 17:04:41.939 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:04:41.939 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:04:41.941 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:04:41.942 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:04:41.942 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:04:41.942 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:04:41.943 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 3.6825ms
2025-03-15 17:04:41.948 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:04:41.948 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:04:41.948 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.4993ms
2025-03-15 17:04:41.950 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:04:41.950 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:04:41.950 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:04:41.950 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:04:41.993 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:04:42.063 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 112.7567ms
2025-03-15 17:04:42.063 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:04:42.087 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:04:42.088 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:04:42.088 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 138.4367ms
2025-03-15 17:05:52.241 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:05:52.242 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:05:52.243 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 25.4552ms
2025-03-15 17:05:52.245 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:05:52.246 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:05:52.246 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:05:52.247 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:05:52.247 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:05:52.248 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.9877ms
2025-03-15 17:05:52.248 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:05:52.248 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.6718ms
2025-03-15 17:05:52.253 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:05:52.253 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:05:52.253 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4047ms
2025-03-15 17:05:52.254 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:05:52.255 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:05:52.256 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:05:52.256 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:05:52.257 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:05:52.257 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:05:52.257 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 2.5837ms
2025-03-15 17:05:52.355 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:05:52.355 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:05:52.356 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.3385ms
2025-03-15 17:05:52.357 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:05:52.357 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:05:52.357 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:05:52.357 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:05:52.368 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:05:52.428 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 70.6555ms
2025-03-15 17:05:52.428 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:05:52.455 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:05:52.456 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:05:52.456 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 99.7450ms
2025-03-15 17:07:40.774 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:07:40.775 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:07:40.775 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.5412ms
2025-03-15 17:07:40.776 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:07:40.776 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:07:40.777 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:07:40.777 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:07:40.778 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:07:40.778 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.5004ms
2025-03-15 17:07:40.778 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:07:40.778 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.9085ms
2025-03-15 17:07:40.782 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:07:40.782 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:07:40.782 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2932ms
2025-03-15 17:07:40.783 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:07:40.783 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:07:40.784 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:07:40.785 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:07:40.785 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:07:40.785 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:07:40.785 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 2.0855ms
2025-03-15 17:07:40.788 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:07:40.788 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:07:40.788 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.2426ms
2025-03-15 17:07:40.813 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:07:40.814 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:07:40.814 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:07:40.814 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:07:41.006 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:07:41.102 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 287.9985ms
2025-03-15 17:07:41.102 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:07:41.126 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:07:41.126 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:07:41.127 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 313.3727ms
2025-03-15 17:08:32.648 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:08:32.649 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:32.650 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.1809ms
2025-03-15 17:08:32.651 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:08:32.651 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:32.652 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:08:32.653 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:08:32.667 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:08:32.667 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 14.7983ms
2025-03-15 17:08:32.668 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:08:32.668 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 16.6032ms
2025-03-15 17:08:32.676 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:08:32.676 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:32.676 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2521ms
2025-03-15 17:08:32.677 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:08:32.677 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:32.678 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:08:32.678 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:08:32.679 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:08:32.679 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:08:32.679 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 1.5948ms
2025-03-15 17:08:32.682 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:08:32.682 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:32.682 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.1931ms
2025-03-15 17:08:32.683 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:08:32.683 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:32.683 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:08:32.683 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:08:32.705 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:08:32.782 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 98.923ms
2025-03-15 17:08:32.782 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:08:32.806 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:08:32.806 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:08:32.806 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 123.3141ms
2025-03-15 17:08:42.375 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:08:42.376 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:42.376 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.5470ms
2025-03-15 17:08:42.377 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:08:42.377 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:42.377 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:08:42.377 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:08:42.380 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:08:42.405 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 27.5641ms
2025-03-15 17:08:42.405 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:08:42.405 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 28.3514ms
2025-03-15 17:08:42.408 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:08:42.408 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:42.408 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1987ms
2025-03-15 17:08:42.409 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:08:42.409 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:42.409 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:08:42.410 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:08:42.410 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:08:42.410 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:08:42.410 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 0.8243ms
2025-03-15 17:08:42.412 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:08:42.412 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:42.412 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.1086ms
2025-03-15 17:08:42.412 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:08:42.412 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:08:42.412 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:08:42.413 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:08:42.420 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:08:42.489 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 76.5296ms
2025-03-15 17:08:42.489 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:08:42.512 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:08:42.513 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:08:42.513 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 100.2962ms
2025-03-15 17:11:50.355 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:11:50.357 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:11:50.357 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.2790ms
2025-03-15 17:11:50.360 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:11:50.361 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:11:50.361 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:11:50.362 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:11:50.365 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:11:50.368 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 4.2882ms
2025-03-15 17:11:50.369 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:11:50.369 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 8.8757ms
2025-03-15 17:11:50.383 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:11:50.383 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:11:50.383 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3652ms
2025-03-15 17:11:50.385 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:11:50.385 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:11:50.387 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:11:50.387 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:11:50.387 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:11:50.388 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:11:50.388 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 2.3843ms
2025-03-15 17:11:50.391 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:11:50.391 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:11:50.391 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.1612ms
2025-03-15 17:11:50.392 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:11:50.392 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:11:50.392 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:11:50.392 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:11:50.407 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:11:50.465 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 72.1765ms
2025-03-15 17:11:50.465 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:11:50.490 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:11:50.490 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:11:50.491 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 98.6073ms
2025-03-15 17:12:46.638 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:12:46.640 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:12:46.641 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 3.4902ms
2025-03-15 17:12:46.643 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:12:46.644 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:12:46.645 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:12:46.645 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:12:46.646 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:12:46.646 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.9065ms
2025-03-15 17:12:46.646 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:12:46.646 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.2517ms
2025-03-15 17:12:46.652 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:12:46.652 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:12:46.652 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.5200ms
2025-03-15 17:12:46.654 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:12:46.654 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:12:46.656 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:12:46.656 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:12:46.657 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:12:46.657 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:12:46.657 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 3.0967ms
2025-03-15 17:12:46.661 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:12:46.661 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:12:46.661 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.5488ms
2025-03-15 17:12:46.663 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:12:46.663 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:12:46.663 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:12:46.663 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:12:46.839 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:12:46.913 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 249.6449ms
2025-03-15 17:12:46.913 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:12:46.939 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:12:46.940 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:12:46.940 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 277.5604ms
2025-03-15 17:14:45.886 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:14:45.889 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:14:45.891 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 30.3670ms
2025-03-15 17:14:45.893 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:14:45.893 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:14:45.894 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:14:45.894 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:14:45.895 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:14:45.895 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.0716ms
2025-03-15 17:14:45.896 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:14:45.896 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.0989ms
2025-03-15 17:14:45.904 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:14:45.905 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:14:45.905 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4331ms
2025-03-15 17:14:45.906 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:14:45.906 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:14:45.909 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:14:45.909 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:14:45.910 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:14:45.910 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:14:45.910 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 3.8170ms
2025-03-15 17:14:45.914 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:14:45.914 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:14:45.915 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.4345ms
2025-03-15 17:14:45.919 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:14:45.920 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:14:45.920 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:14:45.920 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:14:45.946 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:14:46.021 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 100.9762ms
2025-03-15 17:14:46.021 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:14:46.048 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:14:46.049 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:14:46.050 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 132.0715ms
2025-03-15 17:16:04.207 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:16:04.209 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:04.209 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.5602ms
2025-03-15 17:16:04.211 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:16:04.211 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:04.212 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:16:04.213 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:16:04.213 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:16:04.214 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.4247ms
2025-03-15 17:16:04.214 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:16:04.215 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.4703ms
2025-03-15 17:16:04.222 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:16:04.222 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:04.222 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.5403ms
2025-03-15 17:16:04.225 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:16:04.225 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:04.227 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:16:04.228 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:16:04.228 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:16:04.229 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:16:04.229 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 3.9074ms
2025-03-15 17:16:04.234 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:16:04.234 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:04.235 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.4108ms
2025-03-15 17:16:04.236 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:16:04.236 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:04.236 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:16:04.237 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:16:04.315 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:16:04.489 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 251.9625ms
2025-03-15 17:16:04.489 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:16:04.512 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:16:04.512 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:16:04.513 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 276.3484ms
2025-03-15 17:16:51.064 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:16:51.065 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:51.066 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.9674ms
2025-03-15 17:16:51.067 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:16:51.067 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:51.067 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:16:51.070 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:16:51.072 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:16:51.072 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 2.357ms
2025-03-15 17:16:51.072 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:16:51.072 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.4792ms
2025-03-15 17:16:51.074 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:16:51.074 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:51.075 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4354ms
2025-03-15 17:16:51.076 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:16:51.076 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:51.077 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-15 17:16:51.077 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-15 17:16:51.077 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-15 17:16:51.077 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-15 17:16:51.077 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 1.2057ms
2025-03-15 17:16:51.078 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-15 17:16:51.079 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:51.079 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.1627ms
2025-03-15 17:16:51.079 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-15 17:16:51.079 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:16:51.079 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:16:51.079 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:16:51.111 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-15 17:16:51.217 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 137.3928ms
2025-03-15 17:16:51.217 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-15 17:16:51.240 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ETicaretAPI.Application.Exceptions.NotFoundUserException: Kullanc ad veya ifre hatal
   at ETicaretAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Infrastructure/ETicaretAPI.Persistence/Services/AuthService.cs:line 70
   at ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Core/ETicaretAPI.Application/Features/Commands/RefreshTokenLogin/RefreshTokenLoginCommandHandler.cs:line 20
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Controllers/AuthController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_5>d.MoveNext() in /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API/Program.cs:line 117
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-03-15 17:16:51.240 +03:00 [ERR] Kullanc ad veya ifre hatal
2025-03-15 17:16:51.241 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 500 - application/json 161.5062ms
2025-03-15 17:17:00.194 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-15 17:17:00.194 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:00.195 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 23.5725ms
2025-03-15 17:17:00.196 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-15 17:17:00.196 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:00.196 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-15 17:17:00.197 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:17:00.264 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-15 17:17:00.414 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-15 17:17:00.471 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-15 17:17:00.479 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-15 17:17:00.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-15 17:17:00.480 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 282.9973ms
2025-03-15 17:17:00.480 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-15 17:17:00.480 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 283.9957ms
2025-03-15 17:17:01.475 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:17:01.476 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:01.476 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.4883ms
2025-03-15 17:17:01.478 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:17:01.478 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:01.478 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:17:01.478 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:17:01.478 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:17:01.478 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2219ms
2025-03-15 17:17:01.478 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:17:01.478 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.7290ms
2025-03-15 17:17:01.481 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:17:01.481 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:01.481 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1363ms
2025-03-15 17:17:01.482 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:17:01.482 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:01.483 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:17:01.483 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:17:01.490 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:17:01.497 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:17:01.497 +03:00 [INF] Get All Products
2025-03-15 17:17:01.497 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:17:01.497 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 14.4898ms
2025-03-15 17:17:01.497 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:17:01.497 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 15.1929ms
2025-03-15 17:17:04.190 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:17:04.190 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:04.191 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.8458ms
2025-03-15 17:17:04.194 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:17:04.194 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:04.195 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:17:04.195 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:17:04.230 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:17:04.405 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:04.409 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:04.440 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:17:04.444 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:17:04.444 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 249.4974ms
2025-03-15 17:17:04.444 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:17:04.445 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 250.8562ms
2025-03-15 17:17:05.952 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:17:05.952 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:05.953 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:17:05.953 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:17:06.014 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:17:06.195 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:06.199 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:06.208 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:17:06.209 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:17:06.209 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 255.9091ms
2025-03-15 17:17:06.209 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:17:06.210 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 257.5909ms
2025-03-15 17:17:06.851 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:17:06.851 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:06.852 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6998ms
2025-03-15 17:17:06.853 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-15 17:17:06.853 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:06.854 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:17:06.854 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:17:06.889 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:17:07.070 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:07.074 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:07.083 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-15 17:17:07.088 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-15 17:17:07.088 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-15 17:17:07.089 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 234.458ms
2025-03-15 17:17:07.089 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:17:07.089 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 236.1256ms
2025-03-15 17:17:08.165 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:17:08.166 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:08.167 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:17:08.167 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:17:08.226 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:17:08.399 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:08.403 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:08.409 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:17:08.410 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:17:08.410 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 243.3168ms
2025-03-15 17:17:08.410 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:17:08.411 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 245.5158ms
2025-03-15 17:17:16.338 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:17:16.342 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:16.344 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 6.4103ms
2025-03-15 17:17:16.345 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:17:16.345 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:16.345 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:17:16.345 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:17:16.352 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:17:16.355 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:16.357 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:17:16.362 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:17:16.362 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:17:16.363 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 17.1424ms
2025-03-15 17:17:16.363 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:17:16.363 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 17.7885ms
2025-03-15 17:17:56.749 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:17:56.750 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:56.750 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.7341ms
2025-03-15 17:17:56.751 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:17:56.751 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:56.751 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:17:56.752 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:17:56.752 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:17:56.752 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3687ms
2025-03-15 17:17:56.755 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:17:56.755 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.5215ms
2025-03-15 17:17:56.770 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:17:56.770 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:56.770 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2613ms
2025-03-15 17:17:56.770 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:17:56.771 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:17:56.772 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:17:56.772 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:17:56.808 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:17:56.814 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:17:56.815 +03:00 [INF] Get All Products
2025-03-15 17:17:56.815 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:17:56.817 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 44.7071ms
2025-03-15 17:17:56.817 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:17:56.817 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 46.6720ms
2025-03-15 17:18:00.457 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:18:00.458 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:00.458 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:18:00.459 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:18:00.459 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:18:00.459 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.269ms
2025-03-15 17:18:00.459 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:18:00.459 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.5880ms
2025-03-15 17:18:00.462 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:18:00.462 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:00.462 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:18:00.462 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:18:00.466 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:18:00.471 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:18:00.471 +03:00 [INF] Get All Products
2025-03-15 17:18:00.471 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:18:00.472 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.2798ms
2025-03-15 17:18:00.472 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:18:00.472 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 9.9419ms
2025-03-15 17:18:01.946 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:18:01.946 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:01.947 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.3784ms
2025-03-15 17:18:01.947 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:18:01.948 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:01.948 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:18:01.948 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:18:02.002 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:18:02.177 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:18:02.181 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:18:02.187 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:18:02.188 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:18:02.188 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 240.1594ms
2025-03-15 17:18:02.188 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:18:02.188 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 241.0180ms
2025-03-15 17:18:07.110 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:18:07.111 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:07.111 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.7812ms
2025-03-15 17:18:07.112 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:18:07.112 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:07.113 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:18:07.113 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:18:07.143 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:18:07.291 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:18:07.295 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:18:07.301 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:18:07.302 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:18:07.302 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 188.6342ms
2025-03-15 17:18:07.302 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:18:07.302 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 189.6714ms
2025-03-15 17:18:47.160 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:18:47.162 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:47.162 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 4.8394ms
2025-03-15 17:18:47.163 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:18:47.163 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:47.163 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:18:47.163 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:18:47.164 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:18:47.164 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3435ms
2025-03-15 17:18:47.164 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:18:47.164 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1165ms
2025-03-15 17:18:47.166 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:18:47.166 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:47.166 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1510ms
2025-03-15 17:18:47.167 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:18:47.167 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:47.167 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:18:47.167 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:18:47.244 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:18:47.249 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:18:47.262 +03:00 [INF] Get All Products
2025-03-15 17:18:47.263 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:18:47.268 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 100.8209ms
2025-03-15 17:18:47.269 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:18:47.269 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 102.2446ms
2025-03-15 17:18:48.436 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:18:48.437 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:48.437 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:18:48.437 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:18:48.437 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:18:48.438 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.5073ms
2025-03-15 17:18:48.438 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:18:48.438 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.5468ms
2025-03-15 17:18:48.446 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:18:48.446 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:48.447 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:18:48.447 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:18:48.462 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:18:48.467 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:18:48.467 +03:00 [INF] Get All Products
2025-03-15 17:18:48.467 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:18:48.468 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 21.1216ms
2025-03-15 17:18:48.468 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:18:48.468 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 22.5092ms
2025-03-15 17:18:50.802 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:18:50.803 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:50.803 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.8769ms
2025-03-15 17:18:50.804 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:18:50.804 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:18:50.805 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:18:50.805 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:18:50.860 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:18:51.010 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:18:51.014 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:18:51.019 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:18:51.019 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:18:51.020 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 214.932ms
2025-03-15 17:18:51.020 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:18:51.020 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 215.7769ms
2025-03-15 17:20:33.757 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:20:33.759 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:20:33.760 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.9347ms
2025-03-15 17:20:33.826 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:20:33.826 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:20:33.827 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:20:33.828 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:20:33.828 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:20:33.829 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.8183ms
2025-03-15 17:20:33.829 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:20:33.829 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 3.1067ms
2025-03-15 17:20:33.851 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:20:33.852 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:20:33.853 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4205ms
2025-03-15 17:20:33.853 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:20:33.855 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:20:33.856 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:20:33.856 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:20:33.888 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:20:33.892 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:20:33.892 +03:00 [INF] Get All Products
2025-03-15 17:20:33.893 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:20:33.893 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 36.8166ms
2025-03-15 17:20:33.893 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:20:33.893 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 40.0676ms
2025-03-15 17:20:46.407 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:20:46.408 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:20:46.409 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.6866ms
2025-03-15 17:20:46.410 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:20:46.410 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:20:46.410 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:20:46.410 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:20:46.410 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:20:46.410 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2577ms
2025-03-15 17:20:46.410 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:20:46.410 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.8954ms
2025-03-15 17:20:46.417 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:20:46.417 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:20:46.417 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2584ms
2025-03-15 17:20:46.417 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:20:46.417 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:20:46.418 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:20:46.418 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:20:46.428 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:20:46.433 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:20:46.433 +03:00 [INF] Get All Products
2025-03-15 17:20:46.433 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:20:46.433 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 15.6309ms
2025-03-15 17:20:46.433 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:20:46.433 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 16.2690ms
2025-03-15 17:21:38.800 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:21:38.801 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:21:38.801 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.4533ms
2025-03-15 17:21:38.802 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:21:38.802 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:21:38.803 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:21:38.803 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:21:38.804 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:21:38.804 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.6352ms
2025-03-15 17:21:38.804 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:21:38.804 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.1822ms
2025-03-15 17:21:38.806 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:21:38.806 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:21:38.806 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2335ms
2025-03-15 17:21:38.807 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:21:38.807 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:21:38.808 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:21:38.809 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:21:38.855 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:21:38.863 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:21:38.863 +03:00 [INF] Get All Products
2025-03-15 17:21:38.863 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:21:38.864 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 55.0483ms
2025-03-15 17:21:38.864 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:21:38.864 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 56.9440ms
2025-03-15 17:21:46.630 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:21:46.630 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:21:46.630 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.9684ms
2025-03-15 17:21:46.631 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:21:46.631 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:21:46.632 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:21:46.632 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:21:46.640 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:21:46.644 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:21:46.646 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:21:46.650 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:21:46.650 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:21:46.651 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 18.8205ms
2025-03-15 17:21:46.651 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:21:46.651 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 19.4606ms
2025-03-15 17:26:41.610 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:26:41.611 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:41.611 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.7812ms
2025-03-15 17:26:41.613 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:26:41.613 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:41.614 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:26:41.616 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:26:41.617 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:26:41.618 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 2.5383ms
2025-03-15 17:26:41.618 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:26:41.619 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 5.4317ms
2025-03-15 17:26:41.623 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:26:41.624 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:41.624 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4153ms
2025-03-15 17:26:41.626 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:26:41.626 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:41.628 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:26:41.628 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:26:41.682 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:26:41.687 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:26:41.687 +03:00 [INF] Get All Products
2025-03-15 17:26:41.687 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:26:41.690 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 62.2546ms
2025-03-15 17:26:41.690 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:26:41.690 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 64.6671ms
2025-03-15 17:26:43.403 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:26:43.403 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:43.404 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6670ms
2025-03-15 17:26:43.406 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:26:43.406 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:43.408 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:26:43.408 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:26:43.419 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:26:43.424 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:26:43.427 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:26:43.433 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:26:43.434 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:26:43.435 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 26.8037ms
2025-03-15 17:26:43.435 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:26:43.435 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 29.1388ms
2025-03-15 17:26:45.220 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:26:45.220 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:45.220 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:26:45.220 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:26:45.220 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:26:45.220 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1292ms
2025-03-15 17:26:45.220 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:26:45.220 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.5347ms
2025-03-15 17:26:45.236 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:26:45.236 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:45.237 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:26:45.237 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:26:45.241 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:26:45.248 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:26:45.248 +03:00 [INF] Get All Products
2025-03-15 17:26:45.248 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:26:45.249 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 11.9256ms
2025-03-15 17:26:45.249 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:26:45.249 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 12.6668ms
2025-03-15 17:26:46.776 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:26:46.776 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:46.777 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.0532ms
2025-03-15 17:26:46.778 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-15 17:26:46.778 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:46.779 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:26:46.779 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:26:46.792 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:26:46.796 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:26:46.799 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:26:46.806 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-15 17:26:46.819 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-15 17:26:46.819 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-15 17:26:46.820 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 40.3734ms
2025-03-15 17:26:46.820 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:26:46.820 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 41.6120ms
2025-03-15 17:26:48.299 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:26:48.299 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:26:48.300 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:26:48.300 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:26:48.361 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:26:48.510 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:26:48.513 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:26:48.520 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:26:48.521 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:26:48.521 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 221.4179ms
2025-03-15 17:26:48.521 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:26:48.523 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 224.1362ms
2025-03-15 17:29:26.165 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:29:26.166 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:26.166 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.9618ms
2025-03-15 17:29:26.167 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:29:26.167 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:26.168 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:29:26.168 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:29:26.168 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:29:26.169 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.47ms
2025-03-15 17:29:26.169 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:29:26.169 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.5025ms
2025-03-15 17:29:26.173 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:29:26.173 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:26.173 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3382ms
2025-03-15 17:29:26.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:29:26.174 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:26.175 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:29:26.176 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:29:26.199 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:29:26.208 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:29:26.209 +03:00 [INF] Get All Products
2025-03-15 17:29:26.209 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:29:26.210 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 34.0648ms
2025-03-15 17:29:26.210 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:29:26.210 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 36.2500ms
2025-03-15 17:29:29.109 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:29:29.109 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:29.110 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:29:29.110 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:29:29.110 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:29:29.110 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2241ms
2025-03-15 17:29:29.110 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:29:29.110 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.8693ms
2025-03-15 17:29:29.114 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:29:29.114 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:29.114 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:29:29.114 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:29:29.119 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:29:29.123 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:29:29.123 +03:00 [INF] Get All Products
2025-03-15 17:29:29.124 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:29:29.124 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.4272ms
2025-03-15 17:29:29.124 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:29:29.124 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 10.0698ms
2025-03-15 17:29:30.593 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:29:30.595 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:30.596 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:29:30.597 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:29:30.597 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:29:30.597 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.4216ms
2025-03-15 17:29:30.597 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:29:30.597 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.3351ms
2025-03-15 17:29:30.602 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:29:30.602 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:30.602 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:29:30.603 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:29:30.608 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:29:30.614 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:29:30.614 +03:00 [INF] Get All Products
2025-03-15 17:29:30.614 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:29:30.615 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 12.0767ms
2025-03-15 17:29:30.615 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:29:30.615 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 12.9647ms
2025-03-15 17:29:56.766 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-15 17:29:56.769 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:56.769 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 3.3156ms
2025-03-15 17:29:56.771 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-15 17:29:56.772 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:56.772 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-15 17:29:56.773 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-15 17:29:56.810 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-15 17:29:56.925 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-15 17:29:56.979 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-15 17:29:56.984 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-15 17:29:56.984 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-15 17:29:56.985 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 211.35ms
2025-03-15 17:29:56.985 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-15 17:29:56.985 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 213.5054ms
2025-03-15 17:29:58.613 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:29:58.616 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:58.616 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.7889ms
2025-03-15 17:29:58.618 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:29:58.618 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:58.618 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:29:58.618 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:29:58.618 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:29:58.619 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.5425ms
2025-03-15 17:29:58.619 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:29:58.619 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.4277ms
2025-03-15 17:29:58.622 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:29:58.622 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:58.623 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 1.4000ms
2025-03-15 17:29:58.624 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:29:58.624 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:29:58.625 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:29:58.625 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:29:58.631 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:29:58.639 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:29:58.639 +03:00 [INF] Get All Products
2025-03-15 17:29:58.639 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:29:58.640 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 14.6944ms
2025-03-15 17:29:58.640 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:29:58.640 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 15.8370ms
2025-03-15 17:30:00.789 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:30:00.790 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:30:00.790 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.5340ms
2025-03-15 17:30:00.791 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:30:00.791 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:30:00.791 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:30:00.792 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:30:00.873 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:30:00.906 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:30:00.910 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:30:00.916 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:30:00.917 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:30:00.918 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 125.983ms
2025-03-15 17:30:00.918 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:30:00.918 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 126.9179ms
2025-03-15 17:30:02.001 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:30:02.001 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:30:02.002 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.7538ms
2025-03-15 17:30:02.003 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-15 17:30:02.003 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:30:02.004 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:30:02.004 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:30:02.037 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:30:02.194 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:30:02.198 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:30:02.208 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-15 17:30:02.216 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-15 17:30:02.216 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-15 17:30:02.217 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 212.9417ms
2025-03-15 17:30:02.217 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:30:02.217 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 214.2060ms
2025-03-15 17:30:03.190 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:30:03.191 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:30:03.191 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:30:03.191 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:30:03.221 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:30:03.329 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:30:03.332 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:30:03.338 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:30:03.338 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:30:03.339 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 147.4278ms
2025-03-15 17:30:03.339 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:30:03.339 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 148.5807ms
2025-03-15 17:30:27.902 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:30:27.904 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:30:27.904 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 2.7680ms
2025-03-15 17:30:27.905 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:30:27.905 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:30:27.907 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:30:27.907 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:30:27.936 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:30:27.941 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:30:27.944 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:30:27.947 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:30:27.948 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:30:27.948 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 40.9414ms
2025-03-15 17:30:27.948 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:30:27.948 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 43.0906ms
2025-03-15 17:31:38.509 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:31:38.511 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:31:38.511 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.3377ms
2025-03-15 17:31:38.512 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:31:38.512 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:31:38.512 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:31:38.512 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:31:38.513 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:31:38.513 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3623ms
2025-03-15 17:31:38.513 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:31:38.513 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.9985ms
2025-03-15 17:31:38.523 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:31:38.524 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:31:38.524 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 1.2893ms
2025-03-15 17:31:38.525 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:31:38.526 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:31:38.527 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:31:38.527 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:31:38.545 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:31:38.552 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:31:38.552 +03:00 [INF] Get All Products
2025-03-15 17:31:38.552 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:31:38.552 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 25.5315ms
2025-03-15 17:31:38.552 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:31:38.553 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 27.1188ms
2025-03-15 17:31:40.068 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:31:40.069 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:31:40.069 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:31:40.069 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:31:40.069 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:31:40.069 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2609ms
2025-03-15 17:31:40.069 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:31:40.069 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.5530ms
2025-03-15 17:31:40.085 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:31:40.085 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:31:40.085 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:31:40.085 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:31:40.092 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:31:40.096 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:31:40.096 +03:00 [INF] Get All Products
2025-03-15 17:31:40.096 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:31:40.096 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 10.592ms
2025-03-15 17:31:40.096 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:31:40.096 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 11.6173ms
2025-03-15 17:31:41.680 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:31:41.681 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:31:41.682 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 2.0309ms
2025-03-15 17:31:41.684 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:31:41.684 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:31:41.686 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:31:41.686 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:31:41.769 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:31:41.976 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:31:41.980 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:31:41.987 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:31:41.988 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:31:41.989 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 302.3283ms
2025-03-15 17:31:41.989 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:31:41.989 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 305.5264ms
2025-03-15 17:33:34.567 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:33:34.568 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:34.569 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 2.9489ms
2025-03-15 17:33:34.596 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:33:34.597 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:34.602 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:33:34.603 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:33:34.916 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:33:34.920 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:33:34.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:33:34.926 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:33:34.927 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:33:34.927 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 323.9047ms
2025-03-15 17:33:34.927 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:33:34.928 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 331.3310ms
2025-03-15 17:33:36.870 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:33:36.870 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:36.870 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.3429ms
2025-03-15 17:33:36.871 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:33:36.871 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:36.872 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:33:36.872 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:33:36.872 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:33:36.872 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2449ms
2025-03-15 17:33:36.872 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:33:36.872 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.7109ms
2025-03-15 17:33:36.874 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:33:36.874 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:36.875 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1377ms
2025-03-15 17:33:36.875 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:33:36.875 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:36.876 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:33:36.876 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:33:36.885 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:33:36.892 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:33:36.892 +03:00 [INF] Get All Products
2025-03-15 17:33:36.893 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:33:36.893 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 17.1736ms
2025-03-15 17:33:36.893 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:33:36.893 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 17.9361ms
2025-03-15 17:33:38.502 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:33:38.502 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:38.503 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:33:38.503 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:33:38.564 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:33:38.643 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:33:38.646 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:33:38.653 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:33:38.654 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:33:38.655 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 151.1036ms
2025-03-15 17:33:38.655 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:33:38.655 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 152.6911ms
2025-03-15 17:33:57.359 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:33:57.359 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:57.359 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.6023ms
2025-03-15 17:33:57.360 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:33:57.360 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:57.360 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:33:57.360 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:33:57.361 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:33:57.361 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.7178ms
2025-03-15 17:33:57.361 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:33:57.361 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.2039ms
2025-03-15 17:33:57.367 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:33:57.367 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:57.367 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2651ms
2025-03-15 17:33:57.369 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:33:57.369 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:33:57.369 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:33:57.370 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:33:57.374 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:33:57.377 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:33:57.378 +03:00 [INF] Get All Products
2025-03-15 17:33:57.378 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:33:57.378 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 8.4793ms
2025-03-15 17:33:57.378 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:33:57.378 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 9.6848ms
2025-03-15 17:34:13.292 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:34:13.292 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:13.292 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6375ms
2025-03-15 17:34:13.293 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:34:13.294 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:13.294 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:34:13.294 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:34:13.323 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:34:13.495 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:34:13.499 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:34:13.504 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:34:13.505 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:34:13.506 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 211.9114ms
2025-03-15 17:34:13.506 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:34:13.506 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 212.6647ms
2025-03-15 17:34:22.501 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:34:22.502 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:22.502 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.6016ms
2025-03-15 17:34:22.503 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:34:22.504 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:22.504 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:34:22.504 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:34:22.504 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:34:22.504 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1512ms
2025-03-15 17:34:22.504 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:34:22.504 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6611ms
2025-03-15 17:34:22.512 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:34:22.512 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:22.512 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3128ms
2025-03-15 17:34:22.514 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:34:22.514 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:22.514 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:34:22.514 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:34:22.524 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:34:22.529 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:34:22.530 +03:00 [INF] Get All Products
2025-03-15 17:34:22.530 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:34:22.530 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 15.5577ms
2025-03-15 17:34:22.530 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:34:22.530 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 16.2015ms
2025-03-15 17:34:40.702 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:34:40.703 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:40.704 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.2255ms
2025-03-15 17:34:40.711 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:34:40.712 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:40.715 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:34:40.716 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:34:40.720 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:34:40.722 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 3.2285ms
2025-03-15 17:34:40.722 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:34:40.722 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 10.6485ms
2025-03-15 17:34:40.732 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:34:40.732 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:40.732 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.6880ms
2025-03-15 17:34:40.734 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:34:40.734 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:40.735 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:34:40.735 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:34:40.774 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:34:40.780 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:34:40.780 +03:00 [INF] Get All Products
2025-03-15 17:34:40.781 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:34:40.782 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 46.7918ms
2025-03-15 17:34:40.783 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:34:40.784 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 49.4479ms
2025-03-15 17:34:40.864 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:34:40.864 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:40.864 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:34:40.864 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:34:40.865 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:34:40.865 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3602ms
2025-03-15 17:34:40.865 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:34:40.865 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.4977ms
2025-03-15 17:34:40.872 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:34:40.872 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:40.873 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:34:40.873 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:34:40.877 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:34:40.880 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:34:40.881 +03:00 [INF] Get All Products
2025-03-15 17:34:40.881 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:34:40.881 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 8.041ms
2025-03-15 17:34:40.881 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:34:40.881 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 8.9324ms
2025-03-15 17:34:47.855 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:34:47.855 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:47.856 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.8185ms
2025-03-15 17:34:47.859 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:34:47.860 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:34:47.860 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:34:47.860 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:34:47.890 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:34:47.998 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:34:48.001 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:34:48.007 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:34:48.009 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:34:48.009 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 148.6249ms
2025-03-15 17:34:48.009 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:34:48.009 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 149.8185ms
2025-03-15 17:35:09.548 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:35:09.549 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:09.549 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.1932ms
2025-03-15 17:35:09.550 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:35:09.550 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:09.551 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:09.551 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:35:09.551 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:35:09.551 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1855ms
2025-03-15 17:35:09.551 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:09.551 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6826ms
2025-03-15 17:35:09.555 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:35:09.555 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:09.555 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2512ms
2025-03-15 17:35:09.556 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:35:09.556 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:09.556 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:09.556 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:35:09.563 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:35:09.566 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:35:09.567 +03:00 [INF] Get All Products
2025-03-15 17:35:09.567 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:35:09.567 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 10.5361ms
2025-03-15 17:35:09.567 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:09.567 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 11.3225ms
2025-03-15 17:35:12.852 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:35:12.852 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:12.853 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6149ms
2025-03-15 17:35:12.854 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:35:12.854 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:12.854 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:35:12.855 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:35:12.942 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:35:13.092 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:35:13.095 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:35:13.173 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:35:13.199 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:35:13.200 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 345.3139ms
2025-03-15 17:35:13.200 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:35:13.200 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 346.3488ms
2025-03-15 17:35:32.380 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:35:32.380 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:32.380 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.5569ms
2025-03-15 17:35:32.381 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:35:32.382 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:32.382 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:32.382 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:35:32.382 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:35:32.382 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2887ms
2025-03-15 17:35:32.382 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:32.383 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.9330ms
2025-03-15 17:35:32.408 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:35:32.408 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:32.409 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3792ms
2025-03-15 17:35:32.409 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:35:32.409 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:32.409 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:32.410 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:35:32.415 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:35:32.418 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:35:32.418 +03:00 [INF] Get All Products
2025-03-15 17:35:32.418 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:35:32.419 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.1237ms
2025-03-15 17:35:32.419 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:32.419 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 9.7574ms
2025-03-15 17:35:32.631 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:35:32.631 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:32.631 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:32.631 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:35:32.631 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:35:32.632 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.137ms
2025-03-15 17:35:32.632 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:32.632 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.5643ms
2025-03-15 17:35:32.636 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:35:32.637 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:32.637 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:32.637 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:35:32.640 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:35:32.646 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:35:32.646 +03:00 [INF] Get All Products
2025-03-15 17:35:32.646 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:35:32.646 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.1239ms
2025-03-15 17:35:32.646 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:32.646 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 9.9341ms
2025-03-15 17:35:39.848 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:35:39.849 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:39.849 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.0385ms
2025-03-15 17:35:39.851 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:35:39.852 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:39.852 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:39.852 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:35:39.852 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:35:39.852 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3694ms
2025-03-15 17:35:39.852 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:39.852 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1125ms
2025-03-15 17:35:39.855 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:35:39.855 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:39.855 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2467ms
2025-03-15 17:35:39.855 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:35:39.855 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:39.856 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:39.856 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:35:39.863 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:35:39.866 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:35:39.867 +03:00 [INF] Get All Products
2025-03-15 17:35:39.867 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:35:39.867 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 10.9706ms
2025-03-15 17:35:39.867 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:39.867 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 11.6917ms
2025-03-15 17:35:40.208 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:35:40.208 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:40.209 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:40.209 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:35:40.209 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:35:40.209 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2202ms
2025-03-15 17:35:40.209 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:35:40.209 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1228ms
2025-03-15 17:35:40.213 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:35:40.213 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:40.214 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:40.214 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:35:40.217 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:35:40.220 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:35:40.220 +03:00 [INF] Get All Products
2025-03-15 17:35:40.220 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:35:40.220 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 6.292ms
2025-03-15 17:35:40.220 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:35:40.220 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 6.9297ms
2025-03-15 17:35:42.163 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:35:42.164 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:42.164 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6530ms
2025-03-15 17:35:42.165 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:35:42.165 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:35:42.166 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:35:42.166 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:35:42.204 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:35:42.331 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:35:42.336 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:35:42.342 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:35:42.344 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:35:42.344 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 178.0695ms
2025-03-15 17:35:42.344 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:35:42.345 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 179.5178ms
2025-03-15 17:36:02.595 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:02.596 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:02.596 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.4777ms
2025-03-15 17:36:02.597 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:02.597 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:02.597 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:02.597 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:36:02.597 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:36:02.597 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1485ms
2025-03-15 17:36:02.597 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:02.597 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.5067ms
2025-03-15 17:36:02.602 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:02.602 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:02.602 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2947ms
2025-03-15 17:36:02.605 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:02.605 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:02.606 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:02.606 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:36:02.612 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:36:02.615 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:36:02.615 +03:00 [INF] Get All Products
2025-03-15 17:36:02.615 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:36:02.616 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.8845ms
2025-03-15 17:36:02.616 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:02.616 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 10.7389ms
2025-03-15 17:36:02.944 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:02.944 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:02.944 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:02.945 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:36:02.945 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:36:02.945 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.215ms
2025-03-15 17:36:02.945 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:02.945 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.8641ms
2025-03-15 17:36:02.952 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:02.952 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:02.952 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:02.952 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:36:02.970 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:36:02.974 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:36:02.974 +03:00 [INF] Get All Products
2025-03-15 17:36:02.974 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:36:02.974 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 21.6226ms
2025-03-15 17:36:02.974 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:02.974 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 22.4254ms
2025-03-15 17:36:10.540 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:10.545 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:10.545 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 5.8960ms
2025-03-15 17:36:10.550 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:10.550 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:10.551 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:10.551 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:36:10.551 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:36:10.551 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.4607ms
2025-03-15 17:36:10.551 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:10.551 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.2235ms
2025-03-15 17:36:10.559 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:10.560 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:10.560 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2617ms
2025-03-15 17:36:10.562 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:10.563 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:10.563 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:10.563 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:36:10.571 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:36:10.576 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:36:10.577 +03:00 [INF] Get All Products
2025-03-15 17:36:10.577 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:36:10.577 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 13.6945ms
2025-03-15 17:36:10.577 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:10.577 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 14.4694ms
2025-03-15 17:36:10.936 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:10.936 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:10.936 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:10.936 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:36:10.936 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:36:10.937 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1446ms
2025-03-15 17:36:10.937 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:10.937 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6021ms
2025-03-15 17:36:10.941 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:10.941 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:10.941 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:10.941 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:36:10.945 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:36:10.953 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:36:10.953 +03:00 [INF] Get All Products
2025-03-15 17:36:10.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:36:10.953 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 12.2466ms
2025-03-15 17:36:10.953 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:10.954 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 13.0419ms
2025-03-15 17:36:13.105 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:13.105 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:13.105 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:13.105 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:36:13.105 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:36:13.106 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.2138ms
2025-03-15 17:36:13.106 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:13.106 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6885ms
2025-03-15 17:36:13.109 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:13.109 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:13.110 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:13.110 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:36:13.120 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:36:13.124 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:36:13.124 +03:00 [INF] Get All Products
2025-03-15 17:36:13.124 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:36:13.124 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 14.086ms
2025-03-15 17:36:13.124 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:13.124 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 15.2062ms
2025-03-15 17:36:14.752 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:36:14.752 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:14.752 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6323ms
2025-03-15 17:36:14.754 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:36:14.754 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:14.755 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:36:14.755 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:36:14.812 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:36:14.961 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:36:14.965 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:36:14.970 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:36:14.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:36:14.972 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 216.9546ms
2025-03-15 17:36:14.972 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:36:14.972 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 218.1606ms
2025-03-15 17:36:59.357 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:59.360 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:59.360 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.9816ms
2025-03-15 17:36:59.369 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:59.371 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:59.372 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:59.374 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:36:59.375 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:36:59.376 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 1.9191ms
2025-03-15 17:36:59.376 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:59.376 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.6792ms
2025-03-15 17:36:59.379 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:59.380 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:59.380 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3842ms
2025-03-15 17:36:59.381 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:59.381 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:59.384 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:59.384 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:36:59.401 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:36:59.418 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:36:59.418 +03:00 [INF] Get All Products
2025-03-15 17:36:59.419 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:36:59.419 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 34.7979ms
2025-03-15 17:36:59.419 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:59.419 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 38.2181ms
2025-03-15 17:36:59.602 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:36:59.602 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:59.603 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:59.603 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:36:59.603 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:36:59.603 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1499ms
2025-03-15 17:36:59.603 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:36:59.603 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.5972ms
2025-03-15 17:36:59.610 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:36:59.610 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:36:59.610 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:59.610 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:36:59.614 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:36:59.619 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:36:59.619 +03:00 [INF] Get All Products
2025-03-15 17:36:59.619 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:36:59.619 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.1192ms
2025-03-15 17:36:59.619 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:36:59.619 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 9.8098ms
2025-03-15 17:37:03.940 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:03.941 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:03.942 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:03.942 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:37:03.942 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:37:03.942 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.4286ms
2025-03-15 17:37:03.942 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:03.943 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 2.5267ms
2025-03-15 17:37:03.962 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:03.962 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:03.963 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:03.963 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:37:03.967 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:37:03.972 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:37:03.972 +03:00 [INF] Get All Products
2025-03-15 17:37:03.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:37:03.972 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.6414ms
2025-03-15 17:37:03.972 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:03.972 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 10.3952ms
2025-03-15 17:37:04.267 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:04.267 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:04.268 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:04.268 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:37:04.268 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:37:04.268 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1558ms
2025-03-15 17:37:04.268 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:04.268 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.7026ms
2025-03-15 17:37:04.272 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:04.272 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:04.272 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:04.272 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:37:04.276 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:37:04.282 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:37:04.282 +03:00 [INF] Get All Products
2025-03-15 17:37:04.282 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:37:04.282 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.8645ms
2025-03-15 17:37:04.282 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:04.283 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 10.5317ms
2025-03-15 17:37:05.653 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:37:05.655 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:05.655 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.9392ms
2025-03-15 17:37:05.656 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:37:05.656 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:05.657 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:37:05.657 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:37:05.667 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:37:05.672 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:05.674 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:05.680 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:37:05.681 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:37:05.681 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 23.4796ms
2025-03-15 17:37:05.681 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:37:05.681 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 24.9104ms
2025-03-15 17:37:10.859 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:37:10.859 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:10.860 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.5204ms
2025-03-15 17:37:10.861 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:37:10.861 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:10.862 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:37:10.862 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:37:10.914 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:37:11.085 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:11.138 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:11.145 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:37:11.146 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:37:11.147 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 284.7349ms
2025-03-15 17:37:11.147 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:37:11.147 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 285.7376ms
2025-03-15 17:37:12.682 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:37:12.682 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:12.683 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6095ms
2025-03-15 17:37:12.684 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-15 17:37:12.684 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:12.684 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:37:12.684 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:37:12.740 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:37:12.943 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:12.947 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:12.958 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-15 17:37:13.009 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-15 17:37:13.033 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-15 17:37:13.034 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 349.3548ms
2025-03-15 17:37:13.034 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:37:13.034 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 350.2159ms
2025-03-15 17:37:14.294 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:37:14.294 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:14.296 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:37:14.296 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:37:14.307 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:37:14.312 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:14.314 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:14.322 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:37:14.323 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:37:14.323 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 27.4842ms
2025-03-15 17:37:14.323 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:37:14.324 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 29.3915ms
2025-03-15 17:37:17.922 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-15 17:37:17.922 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:17.923 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.9801ms
2025-03-15 17:37:17.924 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65
2025-03-15 17:37:17.924 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:17.925 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:37:17.926 +03:00 [INF] Route matched with {action = "AddItemsToBasket", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddItemsToBasket(ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:37:17.935 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:37:17.939 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:17.941 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:17.946 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid), @__Parse_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."BasketId" = @__basket_Id_0 AND b."ProductId" = @__Parse_1
LIMIT 1
2025-03-15 17:37:17.953 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "BasketItems" ("Id", "BasketId", "CreatedDate", "ProductId", "Quantity", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-15 17:37:17.953 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.AddItemToBasket.AddItemToBasketCommandResponse'.
2025-03-15 17:37:17.954 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API) in 28.0722ms
2025-03-15 17:37:17.954 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.AddItemsToBasket (ETicaretAPI.API)'
2025-03-15 17:37:17.954 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/baskets application/json 65 - 200 - application/json;+charset=utf-8 29.5834ms
2025-03-15 17:37:19.665 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-15 17:37:19.666 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:19.667 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:37:19.667 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-15 17:37:19.726 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-15 17:37:19.781 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:19.784 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-15 17:37:19.797 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-15 17:37:19.798 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-15 17:37:19.799 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 131.5743ms
2025-03-15 17:37:19.799 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-15 17:37:19.799 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 133.3285ms
2025-03-15 17:37:34.966 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:34.966 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:34.966 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.5122ms
2025-03-15 17:37:34.970 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:34.971 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:34.972 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:34.976 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:37:34.977 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:37:34.977 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3056ms
2025-03-15 17:37:34.977 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:34.977 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.6140ms
2025-03-15 17:37:34.984 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:34.984 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:34.984 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3192ms
2025-03-15 17:37:34.988 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:34.988 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:34.988 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:34.988 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:37:34.997 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:37:35.000 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:37:35.001 +03:00 [INF] Get All Products
2025-03-15 17:37:35.001 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:37:35.001 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 12.7454ms
2025-03-15 17:37:35.001 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:35.001 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 13.4489ms
2025-03-15 17:37:35.344 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:35.344 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:35.344 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:35.344 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:37:35.345 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:37:35.345 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3722ms
2025-03-15 17:37:35.345 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:35.345 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.4610ms
2025-03-15 17:37:35.350 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:35.350 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:35.351 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:35.351 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:37:35.356 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:37:35.360 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:37:35.360 +03:00 [INF] Get All Products
2025-03-15 17:37:35.360 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:37:35.360 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.4485ms
2025-03-15 17:37:35.360 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:35.360 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 10.1599ms
2025-03-15 17:37:43.700 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:43.701 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:43.701 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.5899ms
2025-03-15 17:37:43.703 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:43.703 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:43.703 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:43.703 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:37:43.703 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:37:43.703 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1455ms
2025-03-15 17:37:43.703 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:43.703 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.5824ms
2025-03-15 17:37:43.716 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:43.716 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:43.717 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2909ms
2025-03-15 17:37:43.718 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:43.718 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:43.718 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:43.718 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:37:43.723 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:37:43.731 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:37:43.731 +03:00 [INF] Get All Products
2025-03-15 17:37:43.731 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:37:43.732 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 13.3501ms
2025-03-15 17:37:43.732 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:43.732 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 14.1111ms
2025-03-15 17:37:44.229 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:44.229 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:44.229 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:44.229 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:37:44.229 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:37:44.229 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1516ms
2025-03-15 17:37:44.229 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:44.229 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6583ms
2025-03-15 17:37:44.233 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:44.234 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:44.234 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:44.234 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:37:44.239 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:37:44.244 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:37:44.244 +03:00 [INF] Get All Products
2025-03-15 17:37:44.244 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:37:44.244 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 10.349ms
2025-03-15 17:37:44.245 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:44.245 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 11.1641ms
2025-03-15 17:37:52.602 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:52.603 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:52.603 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.6556ms
2025-03-15 17:37:52.628 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:52.628 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:52.628 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:52.628 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:37:52.628 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:37:52.629 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3169ms
2025-03-15 17:37:52.629 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:52.629 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.3108ms
2025-03-15 17:37:52.630 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:52.630 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:52.630 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1557ms
2025-03-15 17:37:52.631 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:52.631 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:52.632 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:52.632 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:37:52.639 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:37:52.644 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:37:52.644 +03:00 [INF] Get All Products
2025-03-15 17:37:52.644 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:37:52.645 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 12.9581ms
2025-03-15 17:37:52.645 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:52.645 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 13.9064ms
2025-03-15 17:37:53.003 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:37:53.003 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:53.003 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:53.003 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:37:53.003 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:37:53.003 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.152ms
2025-03-15 17:37:53.003 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:37:53.003 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6451ms
2025-03-15 17:37:53.007 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:37:53.007 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:37:53.008 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:53.008 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:37:53.011 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:37:53.017 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:37:53.017 +03:00 [INF] Get All Products
2025-03-15 17:37:53.017 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:37:53.017 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 9.5905ms
2025-03-15 17:37:53.017 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:37:53.017 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 10.1838ms
2025-03-15 17:38:00.253 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:38:00.253 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:38:00.253 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.4496ms
2025-03-15 17:38:00.254 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:38:00.254 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:38:00.254 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:38:00.255 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:38:00.255 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:38:00.255 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.1641ms
2025-03-15 17:38:00.255 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:38:00.255 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 0.6119ms
2025-03-15 17:38:00.258 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:38:00.258 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:38:00.258 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4408ms
2025-03-15 17:38:00.260 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:38:00.260 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:38:00.260 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:38:00.260 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:38:00.274 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:38:00.278 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:38:00.279 +03:00 [INF] Get All Products
2025-03-15 17:38:00.279 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:38:00.279 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 18.6732ms
2025-03-15 17:38:00.279 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:38:00.279 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 19.4103ms
2025-03-15 17:38:00.610 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-15 17:38:00.610 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:38:00.610 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:38:00.611 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-15 17:38:00.611 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-15 17:38:00.611 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.266ms
2025-03-15 17:38:00.611 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-15 17:38:00.611 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.1737ms
2025-03-15 17:38:00.615 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-15 17:38:00.615 +03:00 [INF] CORS policy execution successful.
2025-03-15 17:38:00.616 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:38:00.616 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-15 17:38:00.623 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-15 17:38:00.628 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-15 17:38:00.628 +03:00 [INF] Get All Products
2025-03-15 17:38:00.628 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-15 17:38:00.628 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 12.4234ms
2025-03-15 17:38:00.629 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-15 17:38:00.629 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 13.3095ms
2025-03-19 23:10:15.503 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-19 23:10:15.849 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-19 23:10:15.849 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-19 23:10:15.850 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 23:10:15.850 +03:00 [INF] Hosting environment: Development
2025-03-19 23:10:15.850 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-19 23:10:17.181 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-19 23:10:17.237 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 57.1987ms
2025-03-19 23:10:17.317 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-19 23:10:17.355 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.8584ms
2025-03-19 23:10:42.958 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-19 23:10:42.969 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:42.974 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 16.2327ms
2025-03-19 23:10:42.976 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-19 23:10:42.979 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:42.993 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-19 23:10:43.009 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-19 23:10:43.530 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-19 23:10:43.680 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-19 23:10:43.706 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-19 23:10:43.741 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-19 23:10:43.747 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-19 23:10:43.751 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 740.9416ms
2025-03-19 23:10:43.751 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-19 23:10:43.754 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 777.7613ms
2025-03-19 23:10:45.210 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-19 23:10:45.211 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:45.211 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.8627ms
2025-03-19 23:10:45.213 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-19 23:10:45.213 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:45.215 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-19 23:10:45.217 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-19 23:10:45.218 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 23:10:45.221 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 3.9536ms
2025-03-19 23:10:45.221 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-19 23:10:45.221 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 8.0724ms
2025-03-19 23:10:45.224 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-19 23:10:45.224 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:45.224 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2222ms
2025-03-19 23:10:45.224 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-19 23:10:45.225 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:45.288 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-19 23:10:45.290 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-19 23:10:45.341 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-19 23:10:45.349 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-19 23:10:45.349 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-19 23:10:45.390 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-19 23:10:45.393 +03:00 [INF] Get All Products
2025-03-19 23:10:45.393 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-19 23:10:45.400 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 109.777ms
2025-03-19 23:10:45.400 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-19 23:10:45.400 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 175.6657ms
2025-03-19 23:10:48.172 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-19 23:10:48.173 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:48.173 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.7595ms
2025-03-19 23:10:48.174 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-19 23:10:48.174 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:48.179 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-19 23:10:48.185 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-19 23:10:48.321 +03:00 [INF] Executed DbCommand (75ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-19 23:10:48.526 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-19 23:10:48.531 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-19 23:10:48.557 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-19 23:10:48.581 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-19 23:10:48.583 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 397.1228ms
2025-03-19 23:10:48.583 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-19 23:10:48.583 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 408.7282ms
2025-03-19 23:10:51.054 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-19 23:10:51.054 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:51.055 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.9164ms
2025-03-19 23:10:51.056 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 68
2025-03-19 23:10:51.056 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:10:51.060 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-19 23:10:51.064 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-19 23:10:57.173 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2025-03-19 23:10:57.231 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-19 23:10:57.232 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2025-03-19 23:10:57.232 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API) in 6168.5195ms
2025-03-19 23:10:57.232 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-19 23:10:57.232 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 68 - 200 - application/json;+charset=utf-8 6176.4177ms
2025-03-19 23:11:01.265 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-19 23:11:01.267 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:11:01.267 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.8358ms
2025-03-19 23:11:01.269 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-19 23:11:01.269 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:11:01.271 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-19 23:11:01.272 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-19 23:11:01.372 +03:00 [INF] Executed DbCommand (70ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-19 23:11:01.692 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-19 23:11:01.697 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-19 23:11:01.704 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-19 23:11:01.706 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-19 23:11:01.707 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 434.7993ms
2025-03-19 23:11:01.707 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-19 23:11:01.707 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 438.2438ms
2025-03-19 23:11:04.468 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-19 23:11:04.469 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:11:04.471 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-19 23:11:04.471 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-19 23:11:04.516 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-19 23:11:04.683 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-19 23:11:04.688 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-19 23:11:04.693 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-19 23:11:04.695 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-19 23:11:04.695 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 224.2385ms
2025-03-19 23:11:04.695 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-19 23:11:04.696 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 227.8654ms
2025-03-19 23:11:06.126 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-19 23:11:06.126 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:11:06.127 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.0110ms
2025-03-19 23:11:06.128 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 68
2025-03-19 23:11:06.128 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:11:06.130 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-19 23:11:06.130 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-19 23:11:10.205 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2025-03-19 23:11:10.402 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2025-03-19 23:11:10.403 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API) in 4272.8583ms
2025-03-19 23:11:10.403 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-19 23:11:10.411 +03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-19 23:11:14.738 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-19 23:11:14.738 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:11:14.739 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.9740ms
2025-03-19 23:11:14.740 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 68
2025-03-19 23:11:14.740 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:11:14.742 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-19 23:11:14.742 +03:00 [INF] Route matched with {action = "UpdateQuantity", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateQuantity(ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-19 23:11:14.805 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2025-03-19 23:11:14.979 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "BasketItems" SET "Quantity" = @p0, "UpdatedDate" = @p1
WHERE "Id" = @p2;
2025-03-19 23:11:15.002 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.UpdateQuantity.UpdateQuantityCommandResponse'.
2025-03-19 23:11:15.002 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API) in 260.2717ms
2025-03-19 23:11:15.003 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.UpdateQuantity (ETicaretAPI.API)'
2025-03-19 23:11:15.003 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7285/api/baskets application/json 68 - 200 - application/json;+charset=utf-8 262.4505ms
2025-03-19 23:11:16.797 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-19 23:11:16.797 +03:00 [INF] CORS policy execution successful.
2025-03-19 23:11:16.798 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-19 23:11:16.799 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-19 23:11:16.833 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-19 23:11:16.909 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-19 23:11:16.913 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."CustomerId", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-19 23:11:16.918 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-19 23:11:16.919 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-19 23:11:16.920 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 121.2945ms
2025-03-19 23:11:16.920 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-19 23:11:16.921 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 123.7362ms
2025-03-23 18:01:55.116 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-03-23 18:01:55.441 +03:00 [INF] Now listening on: https://localhost:7285
2025-03-23 18:01:55.492 +03:00 [INF] Now listening on: http://localhost:5026
2025-03-23 18:01:55.494 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-23 18:01:55.494 +03:00 [INF] Hosting environment: Development
2025-03-23 18:01:55.494 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-03-23 18:01:56.861 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-03-23 18:01:56.918 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 56.7820ms
2025-03-23 18:01:57.248 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-03-23 18:01:57.295 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 47.4109ms
2025-03-23 18:02:48.245 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-23 18:02:48.260 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:48.265 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 20.2895ms
2025-03-23 18:02:48.267 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-23 18:02:48.270 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:48.288 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-23 18:02:48.308 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-23 18:02:48.849 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-23 18:02:49.004 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-23 18:02:49.010 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-23 18:02:49.046 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-23 18:02:49.052 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-23 18:02:49.056 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 746.9717ms
2025-03-23 18:02:49.056 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-23 18:02:49.059 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 792.1927ms
2025-03-23 18:02:50.387 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:02:50.388 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:50.388 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.3480ms
2025-03-23 18:02:50.389 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:02:50.390 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:50.391 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:02:50.393 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-23 18:02:50.394 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-23 18:02:50.396 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 3.0044ms
2025-03-23 18:02:50.396 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:02:50.396 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 6.9915ms
2025-03-23 18:02:50.398 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:02:50.398 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:50.398 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2166ms
2025-03-23 18:02:50.399 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:02:50.399 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:50.456 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:02:50.458 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-23 18:02:50.504 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-23 18:02:50.511 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-23 18:02:50.512 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-03-23 18:02:50.552 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-23 18:02:50.554 +03:00 [INF] Get All Products
2025-03-23 18:02:50.554 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-23 18:02:50.562 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 103.2345ms
2025-03-23 18:02:50.562 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:02:50.562 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 163.1763ms
2025-03-23 18:02:53.116 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-23 18:02:53.117 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:53.117 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.6062ms
2025-03-23 18:02:53.118 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-23 18:02:53.118 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:53.121 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:02:53.126 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-23 18:02:53.167 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-23 18:02:53.220 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:02:53.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:02:53.242 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-23 18:02:53.259 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-23 18:02:53.260 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 133.3043ms
2025-03-23 18:02:53.260 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:02:53.260 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 142.1848ms
2025-03-23 18:02:59.700 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets/eb13d5ac-4dc5-4fc5-8aa7-a049ec0ea764 - -
2025-03-23 18:02:59.701 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:59.702 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets/eb13d5ac-4dc5-4fc5-8aa7-a049ec0ea764 - - - 204 - - 1.4363ms
2025-03-23 18:02:59.703 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7285/api/baskets/eb13d5ac-4dc5-4fc5-8aa7-a049ec0ea764 - -
2025-03-23 18:02:59.703 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:02:59.706 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API)'
2025-03-23 18:02:59.711 +03:00 [INF] Route matched with {action = "RemoveBasketItem", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveBasketItem(ETicaretAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-23 18:02:59.733 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Parse_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."BasketId", b."CreatedDate", b."ProductId", b."Quantity", b."UpdatedDate"
FROM "BasketItems" AS b
WHERE b."Id" = @__Parse_0
LIMIT 1
2025-03-23 18:02:59.753 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "BasketItems"
WHERE "Id" = @p0;
2025-03-23 18:02:59.756 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Basket.RemoveBasketItem.RemoveBasketItemCommandResponse'.
2025-03-23 18:02:59.756 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API) in 45.8ms
2025-03-23 18:02:59.756 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.RemoveBasketItem (ETicaretAPI.API)'
2025-03-23 18:02:59.757 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7285/api/baskets/eb13d5ac-4dc5-4fc5-8aa7-a049ec0ea764 - - - 200 - application/json;+charset=utf-8 54.0347ms
2025-03-23 18:22:07.362 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:22:07.374 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:07.376 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 14.5730ms
2025-03-23 18:22:07.377 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:22:07.377 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:07.379 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:22:07.380 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-23 18:22:07.380 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-23 18:22:07.381 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.9142ms
2025-03-23 18:22:07.381 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:22:07.381 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 4.0285ms
2025-03-23 18:22:07.383 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:22:07.383 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:07.383 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2249ms
2025-03-23 18:22:07.384 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:22:07.384 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:07.389 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-23 18:22:07.414 +03:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken'.
2025-03-23 18:22:07.415 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-23 18:22:07.419 +03:00 [INF] AuthenticationScheme: Admin was challenged.
2025-03-23 18:22:07.419 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 401 0 - 34.8970ms
2025-03-23 18:22:07.445 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - -
2025-03-23 18:22:07.445 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:07.445 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/refreshtokenlogin - - - 204 - - 0.2923ms
2025-03-23 18:22:07.446 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63
2025-03-23 18:22:07.446 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:07.446 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-23 18:22:07.450 +03:00 [INF] Route matched with {action = "RefreshTokenLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshTokenLogin(ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-23 18:22:07.497 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-03-23 18:22:07.503 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-23 18:22:07.505 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-23 18:22:07.508 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-23 18:22:07.508 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2025-03-23 18:22:07.509 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API) in 58.6575ms
2025-03-23 18:22:07.509 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.RefreshTokenLogin (ETicaretAPI.API)'
2025-03-23 18:22:07.509 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/refreshtokenlogin application/json 63 - 200 - application/json;+charset=utf-8 62.6795ms
2025-03-23 18:22:44.801 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:22:44.804 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:44.804 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 2.7113ms
2025-03-23 18:22:44.805 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:22:44.805 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:44.805 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:22:44.805 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-23 18:22:44.805 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-23 18:22:44.805 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3558ms
2025-03-23 18:22:44.805 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:22:44.806 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.0053ms
2025-03-23 18:22:44.878 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:22:44.878 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:44.878 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.4961ms
2025-03-23 18:22:44.879 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:22:44.880 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:44.880 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:22:44.881 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-23 18:22:44.893 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-23 18:22:44.912 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-23 18:22:44.913 +03:00 [INF] Get All Products
2025-03-23 18:22:44.913 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-23 18:22:44.914 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 32.9745ms
2025-03-23 18:22:44.914 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:22:44.914 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 34.3766ms
2025-03-23 18:22:48.924 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-23 18:22:48.924 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:48.925 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.8083ms
2025-03-23 18:22:48.926 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-23 18:22:48.926 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:48.927 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:22:48.927 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-23 18:22:48.941 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-23 18:22:48.946 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:22:48.950 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:22:48.957 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-23 18:22:48.959 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-23 18:22:48.959 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 32.0083ms
2025-03-23 18:22:48.959 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:22:48.959 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 33.8715ms
2025-03-23 18:22:50.522 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:22:50.522 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:50.523 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.3890ms
2025-03-23 18:22:50.549 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:22:50.549 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:50.549 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:22:50.550 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-23 18:22:50.550 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-23 18:22:50.550 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3659ms
2025-03-23 18:22:50.550 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:22:50.551 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.6743ms
2025-03-23 18:22:50.552 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:22:50.552 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:50.552 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.1556ms
2025-03-23 18:22:50.552 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:22:50.552 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:50.553 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:22:50.553 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-23 18:22:50.563 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-23 18:22:50.565 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-23 18:22:50.566 +03:00 [INF] Get All Products
2025-03-23 18:22:50.566 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-23 18:22:50.566 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 13.1987ms
2025-03-23 18:22:50.566 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:22:50.566 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 14.0121ms
2025-03-23 18:22:52.181 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-23 18:22:52.182 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:22:52.183 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:22:52.183 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-23 18:22:52.202 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-23 18:22:52.206 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:22:52.208 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:22:52.216 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-23 18:22:52.217 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-23 18:22:52.217 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 34.3072ms
2025-03-23 18:22:52.218 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:22:52.218 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 36.8422ms
2025-03-23 18:35:12.233 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:35:12.235 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:35:12.241 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 4.9921ms
2025-03-23 18:35:12.280 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:35:12.281 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:35:12.282 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:35:12.283 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-23 18:35:12.286 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-23 18:35:12.295 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 4.5119ms
2025-03-23 18:35:12.295 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:35:12.296 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 15.4059ms
2025-03-23 18:35:12.299 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:35:12.299 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:35:12.299 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2883ms
2025-03-23 18:35:12.300 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:35:12.300 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:35:12.301 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:35:12.301 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-23 18:35:12.345 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-23 18:35:12.350 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-23 18:35:12.351 +03:00 [INF] Get All Products
2025-03-23 18:35:12.351 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-23 18:35:12.352 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 51.0017ms
2025-03-23 18:35:12.352 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:35:12.352 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 52.4370ms
2025-03-23 18:35:16.104 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-23 18:35:16.105 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:35:16.105 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 1.2205ms
2025-03-23 18:35:16.107 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-23 18:35:16.107 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:35:16.108 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:35:16.108 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-23 18:35:16.120 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-23 18:35:16.124 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:35:16.125 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:35:16.132 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-23 18:35:16.133 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-23 18:35:16.133 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 24.8542ms
2025-03-23 18:35:16.133 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:35:16.134 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 27.0177ms
2025-03-23 18:44:48.643 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-03-23 18:44:48.645 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:44:48.646 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 2.9311ms
2025-03-23 18:44:48.648 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-03-23 18:44:48.649 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:44:48.650 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-23 18:44:48.651 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-03-23 18:44:48.923 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-23 18:44:48.995 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-03-23 18:44:48.996 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-03-23 18:44:49.000 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-03-23 18:44:49.001 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-03-23 18:44:49.001 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 349.418ms
2025-03-23 18:44:49.001 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-03-23 18:44:49.001 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 352.8694ms
2025-03-23 18:44:51.047 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:44:51.047 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:44:51.048 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.6257ms
2025-03-23 18:44:51.049 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-03-23 18:44:51.049 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:44:51.049 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:44:51.050 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-03-23 18:44:51.050 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-23 18:44:51.050 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.3953ms
2025-03-23 18:44:51.050 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-03-23 18:44:51.050 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.3045ms
2025-03-23 18:44:51.054 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:44:51.054 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:44:51.055 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.3347ms
2025-03-23 18:44:51.056 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-03-23 18:44:51.056 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:44:51.057 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:44:51.057 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-03-23 18:44:51.063 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-03-23 18:44:51.068 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-03-23 18:44:51.069 +03:00 [INF] Get All Products
2025-03-23 18:44:51.069 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-03-23 18:44:51.069 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 12.1916ms
2025-03-23 18:44:51.069 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-03-23 18:44:51.069 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 13.5085ms
2025-03-23 18:44:52.600 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-03-23 18:44:52.601 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:44:52.601 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.8612ms
2025-03-23 18:44:52.602 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-03-23 18:44:52.602 +03:00 [INF] CORS policy execution successful.
2025-03-23 18:44:52.603 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:44:52.604 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-03-23 18:44:52.663 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-03-23 18:44:52.711 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:44:52.713 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."UpdatedDate"
FROM "Orders" AS o
2025-03-23 18:44:52.717 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-03-23 18:44:52.718 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-23 18:44:52.718 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 114.1236ms
2025-03-23 18:44:52.718 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-03-23 18:44:52.718 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 115.7411ms
2025-04-12 12:47:09.628 +03:00 [INF] User profile is available. Using '/Users/taft/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-04-12 12:47:09.967 +03:00 [INF] Now listening on: https://localhost:7285
2025-04-12 12:47:09.993 +03:00 [INF] Now listening on: http://localhost:5026
2025-04-12 12:47:09.994 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-04-12 12:47:09.994 +03:00 [INF] Hosting environment: Development
2025-04-12 12:47:09.994 +03:00 [INF] Content root path: /Users/taft/Desktop/ETicaretUygulamasi/ETicaretAPI/Presentation/ETicaretAPI.API
2025-04-12 12:47:11.519 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger - -
2025-04-12 12:47:11.545 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger - - - 301 0 - 27.1894ms
2025-04-12 12:47:11.553 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/index.html - -
2025-04-12 12:47:11.586 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/index.html - - - 200 - text/html;charset=utf-8 33.2659ms
2025-04-12 12:47:11.610 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui.css - -
2025-04-12 12:47:11.611 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui-bundle.js - -
2025-04-12 12:47:11.720 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui-standalone-preset.js - -
2025-04-12 12:47:11.725 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-04-12 12:47:11.725 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-04-12 12:47:11.725 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui.css - - - 200 144929 text/css 115.5352ms
2025-04-12 12:47:11.751 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 6.0165ms
2025-04-12 12:47:11.872 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-04-12 12:47:11.873 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 261.3987ms
2025-04-12 12:47:11.981 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - -
2025-04-12 12:47:12.011 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/swagger/favicon-32x32.png - -
2025-04-12 12:47:12.011 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-04-12 12:47:12.011 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/favicon-32x32.png - - - 200 628 image/png 0.2879ms
2025-04-12 12:47:12.053 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 71.9796ms
2025-04-12 12:47:37.665 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - -
2025-04-12 12:47:37.680 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:37.685 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/auth/login - - - 204 - - 20.5954ms
2025-04-12 12:47:37.687 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43
2025-04-12 12:47:37.691 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:37.718 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-04-12 12:47:37.738 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserQueryRequest) on controller ETicaretAPI.API.Controllers.AuthController (ETicaretAPI.API).
2025-04-12 12:47:38.336 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-04-12 12:47:38.471 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-04-12 12:47:38.476 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-04-12 12:47:38.511 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p17='?', @p0='?' (DbType = Int32), @p1='?', @p18='?', @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime), @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = DateTime), @p14='?', @p15='?' (DbType = Boolean), @p16='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "Email" = @p2, "EmailConfirmed" = @p3, "LockoutEnabled" = @p4, "LockoutEnd" = @p5, "NameSurname" = @p6, "NormalizedEmail" = @p7, "NormalizedUserName" = @p8, "PasswordHash" = @p9, "PhoneNumber" = @p10, "PhoneNumberConfirmed" = @p11, "RefreshToken" = @p12, "RefreshTokenEndDate" = @p13, "SecurityStamp" = @p14, "TwoFactorEnabled" = @p15, "UserName" = @p16
WHERE "Id" = @p17 AND "ConcurrencyStamp" = @p18;
2025-04-12 12:47:38.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.AppUser.LoginUser.LoginUserSuccessCommandResponse'.
2025-04-12 12:47:38.521 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API) in 782.091ms
2025-04-12 12:47:38.521 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.AuthController.Login (ETicaretAPI.API)'
2025-04-12 12:47:38.524 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/auth/login application/json 43 - 200 - application/json;+charset=utf-8 836.4957ms
2025-04-12 12:47:40.336 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-04-12 12:47:40.337 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:40.338 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 1.4017ms
2025-04-12 12:47:40.339 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-04-12 12:47:40.339 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:40.341 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-04-12 12:47:40.343 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-04-12 12:47:40.344 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-12 12:47:40.348 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 4.6531ms
2025-04-12 12:47:40.348 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-04-12 12:47:40.348 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 9.3855ms
2025-04-12 12:47:40.379 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-04-12 12:47:40.380 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:40.380 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.7891ms
2025-04-12 12:47:40.381 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-04-12 12:47:40.381 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:40.449 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-04-12 12:47:40.452 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-04-12 12:47:40.503 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-04-12 12:47:40.511 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-04-12 12:47:40.511 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-04-12 12:47:40.558 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-04-12 12:47:40.560 +03:00 [INF] Get All Products
2025-04-12 12:47:40.560 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-04-12 12:47:40.568 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 115.6898ms
2025-04-12 12:47:40.568 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-04-12 12:47:40.568 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 187.0330ms
2025-04-12 12:47:49.197 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/orders?page=0&size=5 - -
2025-04-12 12:47:49.198 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:49.198 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/orders?page=0&size=5 - - - 204 - - 0.9110ms
2025-04-12 12:47:49.199 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/orders?page=0&size=5 - -
2025-04-12 12:47:49.199 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:49.203 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API)'
2025-04-12 12:47:49.208 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllOrders(ETicaretAPI.Application.Features.Queries.Order.GetAll.GetAllOrdersQueryRequest) on controller ETicaretAPI.API.Controllers.OrdersController (ETicaretAPI.API).
2025-04-12 12:47:49.264 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Orders" AS o
2025-04-12 12:47:49.303 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-04-12 12:47:49.304 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-04-12 12:47:49.325 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(sum(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2025-04-12 12:47:49.327 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Order.GetAll.GetAllOrdersQueryResponse'.
2025-04-12 12:47:49.328 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API) in 119.816ms
2025-04-12 12:47:49.328 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API)'
2025-04-12 12:47:49.329 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 129.2902ms
2025-04-12 12:47:52.518 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-04-12 12:47:52.519 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:52.519 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/files/GetBaseStorageUrl - - - 204 - - 0.8294ms
2025-04-12 12:47:52.520 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - -
2025-04-12 12:47:52.521 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:52.521 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-04-12 12:47:52.521 +03:00 [INF] Route matched with {action = "GetBaseStorageUrl", controller = "Files"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetBaseStorageUrl() on controller ETicaretAPI.API.Controllers.FilesController (ETicaretAPI.API).
2025-04-12 12:47:52.521 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-04-12 12:47:52.522 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API) in 0.4198ms
2025-04-12 12:47:52.522 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.FilesController.GetBaseStorageUrl (ETicaretAPI.API)'
2025-04-12 12:47:52.522 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/files/GetBaseStorageUrl - - - 200 - application/json;+charset=utf-8 1.4085ms
2025-04-12 12:47:52.525 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - -
2025-04-12 12:47:52.525 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:52.525 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/products?page=0&size=12 - - - 204 - - 0.2461ms
2025-04-12 12:47:52.526 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - -
2025-04-12 12:47:52.526 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:52.529 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-04-12 12:47:52.529 +03:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryRequest) on controller ETicaretAPI.API.Controllers.ProductsController (ETicaretAPI.API).
2025-04-12 12:47:52.539 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Products" AS p
2025-04-12 12:47:52.545 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name", t."Stock", t."Price", t."CreatedDate", t."UpdatedDate", t0."Id", t0."CreatedDate", t0."Discriminator", t0."FileName", t0."Path", t0."Storage", t0."Showcase", t0."ProductImageFilesId", t0."ProductsId"
FROM (
    SELECT p."Id", p."Name", p."Stock", p."Price", p."CreatedDate", p."UpdatedDate"
    FROM "Products" AS p
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN (
    SELECT t1."Id", t1."CreatedDate", t1."Discriminator", t1."FileName", t1."Path", t1."Storage", t1."Showcase", p0."ProductImageFilesId", p0."ProductsId"
    FROM "ProductProductImageFile" AS p0
    INNER JOIN (
        SELECT f."Id", f."CreatedDate", f."Discriminator", f."FileName", f."Path", f."Storage", f."Showcase"
        FROM "Files" AS f
        WHERE f."Discriminator" = 'ProductImageFile'
    ) AS t1 ON p0."ProductImageFilesId" = t1."Id"
) AS t0 ON t."Id" = t0."ProductsId"
ORDER BY t."Id", t0."ProductImageFilesId", t0."ProductsId"
2025-04-12 12:47:52.546 +03:00 [INF] Get All Products
2025-04-12 12:47:52.546 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Product.GetAllProducts.GetAllProductsQueryResponse'.
2025-04-12 12:47:52.547 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API) in 17.484ms
2025-04-12 12:47:52.547 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.ProductsController.Get (ETicaretAPI.API)'
2025-04-12 12:47:52.547 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/products?page=0&size=12 - - - 200 - application/json;+charset=utf-8 21.1764ms
2025-04-12 12:47:54.269 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - -
2025-04-12 12:47:54.269 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:54.269 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/baskets - - - 204 - - 0.5973ms
2025-04-12 12:47:54.271 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/baskets - -
2025-04-12 12:47:54.271 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:54.272 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-04-12 12:47:54.276 +03:00 [INF] Route matched with {action = "GetBasketItems", controller = "Baskets"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetBasketItems(ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryRequest) on controller ETicaretAPI.API.Controllers.BasketsController (ETicaretAPI.API).
2025-04-12 12:47:54.364 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-04-12 12:47:54.404 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2025-04-12 12:47:54.409 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2025-04-12 12:47:54.439 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__basket_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedDate", t."UpdatedDate", t."UserId", t0."Id", t0."BasketId", t0."CreatedDate", t0."ProductId", t0."Quantity", t0."UpdatedDate", t0."Id0", t0."CreatedDate0", t0."Name", t0."Price", t0."Stock", t0."UpdatedDate0"
FROM (
    SELECT b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
    FROM "Baskets" AS b
    WHERE b."Id" = @__basket_Id_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT b0."Id", b0."BasketId", b0."CreatedDate", b0."ProductId", b0."Quantity", b0."UpdatedDate", p."Id" AS "Id0", p."CreatedDate" AS "CreatedDate0", p."Name", p."Price", p."Stock", p."UpdatedDate" AS "UpdatedDate0"
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
) AS t0 ON t."Id" = t0."BasketId"
ORDER BY t."Id", t0."Id"
2025-04-12 12:47:54.460 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ETicaretAPI.Application.Features.Queries.Basket.GetBasketItems.GetBasketItemsQueryResponse, ETicaretAPI.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-04-12 12:47:54.461 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API) in 184.341ms
2025-04-12 12:47:54.461 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.BasketsController.GetBasketItems (ETicaretAPI.API)'
2025-04-12 12:47:54.461 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/baskets - - - 200 - application/json;+charset=utf-8 190.2493ms
2025-04-12 12:47:56.694 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/orders - -
2025-04-12 12:47:56.695 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:56.696 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/orders - - - 204 - - 1.1515ms
2025-04-12 12:47:56.697 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7285/api/orders application/json 55
2025-04-12 12:47:56.698 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:47:56.699 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.OrdersController.CreateOrder (ETicaretAPI.API)'
2025-04-12 12:47:56.705 +03:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] CreateOrder(ETicaretAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandRequest) on controller ETicaretAPI.API.Controllers.OrdersController (ETicaretAPI.API).
2025-04-12 12:47:56.723 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."ConcurrencyStamp", t."Email", t."EmailConfirmed", t."LockoutEnabled", t."LockoutEnd", t."NameSurname", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."RefreshToken", t."RefreshTokenEndDate", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", b."Id", b."CreatedDate", b."UpdatedDate", b."UserId"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NameSurname", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenEndDate", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__username_0
    LIMIT 1
) AS t
LEFT JOIN "Baskets" AS b ON t."Id" = b."UserId"
ORDER BY t."Id"
2025-04-12 12:47:56.726 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2025-04-12 12:47:56.728 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o."Id", o."Address", o."CreatedDate", o."Description", o."OrderCode", o."UpdatedDate"
FROM "Orders" AS o
2025-04-12 12:47:56.782 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Orders" ("Id", "Address", "CreatedDate", "Description", "OrderCode", "UpdatedDate")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-04-12 12:47:56.784 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Commands.Order.CreateOrder.CreateOrderCommandResponse'.
2025-04-12 12:47:56.784 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.OrdersController.CreateOrder (ETicaretAPI.API) in 79.0002ms
2025-04-12 12:47:56.784 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.OrdersController.CreateOrder (ETicaretAPI.API)'
2025-04-12 12:47:56.784 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7285/api/orders application/json 55 - 200 - application/json;+charset=utf-8 86.6109ms
2025-04-12 12:48:03.976 +03:00 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:7285/api/orders?page=0&size=5 - -
2025-04-12 12:48:03.977 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:48:03.977 +03:00 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:7285/api/orders?page=0&size=5 - - - 204 - - 1.0164ms
2025-04-12 12:48:03.979 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7285/api/orders?page=0&size=5 - -
2025-04-12 12:48:03.979 +03:00 [INF] CORS policy execution successful.
2025-04-12 12:48:03.980 +03:00 [INF] Executing endpoint 'ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API)'
2025-04-12 12:48:03.980 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetAllOrders(ETicaretAPI.Application.Features.Queries.Order.GetAll.GetAllOrdersQueryRequest) on controller ETicaretAPI.API.Controllers.OrdersController (ETicaretAPI.API).
2025-04-12 12:48:04.014 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Orders" AS o
2025-04-12 12:48:04.192 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."CreatedDate", t."OrderCode", (
    SELECT COALESCE(sum(p."Price" * b0."Quantity"::real), 0)
    FROM "BasketItems" AS b0
    INNER JOIN "Products" AS p ON b0."ProductId" = p."Id"
    WHERE b."Id" = b0."BasketId") AS "TotalPrice", a."UserName"
FROM (
    SELECT o."Id", o."CreatedDate", o."OrderCode"
    FROM "Orders" AS o
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Baskets" AS b ON t."Id" = b."Id"
INNER JOIN "AspNetUsers" AS a ON b."UserId" = a."Id"
2025-04-12 12:48:04.219 +03:00 [INF] Executing OkObjectResult, writing value of type 'ETicaretAPI.Application.Features.Queries.Order.GetAll.GetAllOrdersQueryResponse'.
2025-04-12 12:48:04.220 +03:00 [INF] Executed action ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API) in 240.3536ms
2025-04-12 12:48:04.221 +03:00 [INF] Executed endpoint 'ETicaretAPI.API.Controllers.OrdersController.GetAllOrders (ETicaretAPI.API)'
2025-04-12 12:48:04.223 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7285/api/orders?page=0&size=5 - - - 200 - application/json;+charset=utf-8 243.4502ms
